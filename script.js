if(!Object['hasOwnProperty']('values')){Object['values']=function(c){return Object['keys'](c)['map'](function(d){return c[d];});};}if(!String['prototype']['startsWith']){String['prototype']['startsWith']=function(e,f){f=f||0x0;return this['indexOf'](e,f)===f;};}TDV['EventDispatcher']=function(){this['_handlers']={};};TDV['EventDispatcher']['prototype']['bind']=function(g,h){if(!(g in this['_handlers']))this['_handlers'][g]=[];this['_handlers'][g]['push'](h);};TDV['EventDispatcher']['prototype']['unbind']=function(i,j){if(i in this['_handlers']){var k=this['_handlers'][i]['indexOf'](j);if(k!=-0x1)this['_handlers'][i]['splice'](k,0x1);}};TDV['EventDispatcher']['prototype']['createNewEvent']=function(l){if(typeof Event==='function')return new Event(l);var m=document['createEvent']('Event');m['initEvent'](l,!![],!![]);return m;};TDV['EventDispatcher']['prototype']['dispatchEvent']=function(n){if(n['type']in this['_handlers']){var o=this['_handlers'][n['type']];for(var p=0x0;p<o['length'];++p){o[p]['call'](window,n);if(n['defaultPrevented'])break;}}};TDV['Tour']=function(q,r){TDV['EventDispatcher']['call'](this);this['player']=undefined;this['_settings']=q;this['_devicesUrl']=r;this['_playersPlayingTmp']=[];this['_isInitialized']=![];this['_isPaused']=![];this['_isRemoteSession']=![];this['_orientation']=undefined;this['_lockedOrientation']=undefined;this['_device']=undefined;Object['defineProperty'](this,'isInitialized',{'get':function(){return this['_isInitialized'];}});Object['defineProperty'](this,'isPaused',{'get':function(){return this['_isPaused'];}});this['_setupRemote']();};TDV['Tour']['DEVICE_GENERAL']='general';TDV['Tour']['DEVICE_MOBILE']='mobile';TDV['Tour']['DEVICE_IPAD']='ipad';TDV['Tour']['DEVICE_VR']='vr';TDV['Tour']['EVENT_TOUR_INITIALIZED']='tourInitialized';TDV['Tour']['EVENT_TOUR_LOADED']='tourLoaded';TDV['Tour']['EVENT_TOUR_ENDED']='tourEnded';TDV['Tour']['prototype']=new TDV['EventDispatcher']();TDV['Tour']['prototype']['dispose']=function(){if(!this['player'])return;if(this['_onHashChange']){window['removeEventListener']('hashchange',this['_onHashChange']);this['_onHashChange']=undefined;}if(this['_onKeyUp']){document['removeEventListener']('keyup',this['_onKeyUp']);this['_onKeyUp']=undefined;}if(this['_onBeforeUnload']){window['removeEventListener']('beforeunload',this['_onBeforeUnload']);this['_onBeforeUnload']=undefined;}var s=this['_getRootPlayer']();if(s!==undefined){s['stopTextToSpeech']();s['stopGlobalAudios']();}this['player']['delete']();this['player']=undefined;this['_isInitialized']=![];window['currentGlobalAudios']=undefined;window['pauseGlobalAudiosState']=undefined;window['currentPanoramasWithCameraChanged']=undefined;window['overlaysDispatched']=undefined;};TDV['Tour']['prototype']['load']=function(){if(this['player'])return;var t=function(w){if(w['name']=='begin'){var A=w['data']['source']['get']('camera');if(A&&A['get']('initialSequence')&&A['get']('initialSequence')['get']('movements')['length']>0x0)return;}if(w['sourceClassName']=='MediaAudio'||w['sourceClassName']=='Model3DCameraSequence'||this['_isInitialized'])return;this['_isInitialized']=!![];u['unbind']('preloadMediaShow',t,this,!![]);u['unbindOnObjectsOf']('PlayListItem','begin',t,this,!![]);u['unbind']('stateChange',t,this,!![]);if(this['_isPaused'])this['pause']();window['parent']['postMessage'](TDV['Tour']['EVENT_TOUR_LOADED'],'*');this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['EVENT_TOUR_LOADED']));};this['_setup']();this['_settings']['set'](TDV['PlayerSettings']['SCRIPT_URL'],this['_currentScriptUrl']);var u=this['player']=TDV['PlayerAPI']['create'](this['_settings']);u['bindOnObject']('rootPlayer','start',v,this,!![]);window['addEventListener']('message',function(B){var C=B['data'];if(C=='pauseTour')C='pause';else if(C=='resumeTour')C='resume';else return;this[C]['apply'](this);}['bind'](this));function v(D){u['unbindOnObject']('rootPlayer','start',v,this,!![]);var E=D['data']['source'];E['get']('data')['tour']=this;var F=window['navigator']['language']||window['navigator']['userLanguage']||'en';var G=E['get']('data')['locales']||{};var H=E['get']('data')['defaultLocale']||F;var I=this['locManager']=new TDV['Tour']['LocaleManager'](E,G,H,this['_settings']['get'](TDV['PlayerSettings']['QUERY_STRING_PARAMETERS']));E['get']('data')['localeManager']=I;var J=function(){var U=E['get']('data');if(!('updateText'in U)){U['updateText']=function(Y){var Z=Y[0x0]['split']('.');if(Z['length']==0x2){var a0=I['trans']['apply'](I,Y);var a1=Y[0x1]||E;if(typeof a1=='string'){var a2=a1['split']('.');a1=E[a2['shift']()];for(var a3=0x0;a3<a2['length']-0x1;++a3){if(a1!=undefined)a1='get'in a1?a1['get'](a2[a3]):a1[a2[a3]];}if(a1!=undefined){var a4=a2[a2['length']-0x1];if(Array['isArray'](a1)){for(var a5=0x0;a5<a1['length'];++a5){this['setValue'](a1[a5],a4,a0);}}else this['setValue'](a1,a4,a0);}}else{a1=a1[Z[0x0]];this['setValue'](a1,Z[0x1],a0);}}}['bind'](E);}var V=U['translateObjs'];var W=U['updateText'];var X=function(){for(var a6 in V){W(V[a6]);}};X();X();};this['locManager']['bind'](TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED'],J['bind'](this));var K=this['_getParams'](location['search']['substr'](0x1));K=E['mixObject'](K,this['_getParams'](location['hash']['substr'](0x1)));var L=K['language'];if(!L||!this['locManager']['hasLocale'](K['language'])){if(E['get']('data')['forceDefaultLocale'])L=H;else L=F;}this['setLocale'](L);var M=E['getByClassName']('HotspotPanoramaOverlay');for(var O=0x0,P=M['length'];O<P;++O){var Q=M[O];var R=Q['get']('data');if(!R)Q['set']('data',R={});R['defaultEnabledValue']=Q['get']('enabled');}this['_setMediaFromURL'](K,0x0);this['_updateParams'](K,![]);if(this['isMobile']()&&typeof this['_devicesUrl'][this['_device']]=='object'){var S=function(){if(!E['isCardboardViewMode']()&&this['_getOrientation']()!=this['_orientation']){this['reload'](!![]);return!![];}return![];};if(S['call'](this))return;var T=E['getByClassName']('PanoramaPlayer');for(var O=0x0;O<T['length'];++O){T[O]['bind']('viewModeChange',S,this);}E['bind']('orientationChange',S,this);}this['_onHashChange']=function(){var a7=this['_getParams'](location['hash']['substr'](0x1));this['_setMediaFromURL'](a7);this['_updateParams'](a7,!![]);}['bind'](this);this['_onKeyUp']=function(a8){switch(a8['key']['toLowerCase']()){case'u':this['updateDeepLink']();E['copyToClipboard'](location['href']);break;case'm':var a9=E['getByClassName']('MeasureModel3DObject');var aa=E['getActiveMediaWithViewer'](E['getMainViewer']());if(a9['length']>0x0&&aa['get']('class')=='Model3D'){E['startMeasurement'](null,a9[0x0]);}break;}}['bind'](this);this['_onBeforeUnload']=function(ab){E['stopTextToSpeech']();};window['addEventListener']('hashchange',this['_onHashChange']);window['addEventListener']('beforeunload',this['_onBeforeUnload']);document['addEventListener']('keyup',this['_onKeyUp']);E['bind']('tourEnded',function(){this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['EVENT_TOUR_ENDED']));},this,!![]);E['bind']('mute_changed',function(){if(this['get']('mute'))this['stopTextToSpeech']();},E,!![]);u['bind']('preloadMediaShow',t,this,!![]);u['bind']('stateChange',t,this,!![]);u['bindOnObjectsOf']('PlayListItem','begin',t,this,!![]);this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['EVENT_TOUR_INITIALIZED']));}};TDV['Tour']['prototype']['pause']=function(){this['_isPaused']=!![];if(!this['_isInitialized'])return;var ac=function(al){var am=al['source'];if(!this['_isPaused'])am['unbind']('stateChange',ac,this);else if(am['get']('state')=='playing'){am['pause']();}};var ad=this['player']['getByClassName']('PlayList');for(var ae=0x0,af=ad['length'];ae<af;ae++){var ag=ad[ae];var ah=ag['get']('selectedIndex');if(ah!=-0x1){var ai=ag['get']('items')[ah];var aj=ai['get']('player');if(aj&&aj['pause']){if(aj['get']('state')!='playing')aj['bind']('stateChange',ac,this);else aj['pause']();this['_playersPlayingTmp']['push'](aj);}}}var ak=this['_getRootPlayer']();ak['pauseGlobalAudios']();ak['quizPauseTimer']();};TDV['Tour']['prototype']['resume']=function(){this['_isPaused']=![];if(!this['_isInitialized'])return;while(this['_playersPlayingTmp']['length']){var an=this['_playersPlayingTmp']['pop']();an['play']();}var ao=this['_getRootPlayer']();ao['resumeGlobalAudios']();ao['quizResumeTimer']();};TDV['Tour']['prototype']['reload']=function(ap){this['_orientation']=this['_getOrientation']();if(ap)this['updateDeepLink']();this['dispose']();this['load']();};TDV['Tour']['prototype']['setMediaByIndex']=function(aq){var ar=this['_getRootPlayer']();if(ar!==undefined){return ar['setMainMediaByIndex'](aq);}};TDV['Tour']['prototype']['setMediaByName']=function(as){var at=this['_getRootPlayer']();if(at!==undefined){return at['setMainMediaByName'](as);}};TDV['Tour']['prototype']['triggerOverlayByName']=function(au,av,aw){var ax=this['_getRootPlayer']();if(!aw)aw='click';if(ax!==undefined&&aw){var ay=ax['getPanoramaOverlayByName'](au,av);if(ay){ax['triggerOverlay'](ay,aw);}}};TDV['Tour']['prototype']['focusOverlayByName']=function(az,aA){var aB=this['_getRootPlayer']();if(aB!==undefined){var aC=aB['getPanoramaOverlayByName'](az['get']('media'),aA);if(aC){var aD=aC['get']('class');var aE=aD=='VideoPanoramaOverlay'||aD=='QuadVideoPanoramaOverlay'?aC:aC['get']('items')[0x0];var aF,aG;aD=aE['get']('class');if(aD=='QuadVideoPanoramaOverlay'||aD=='QuadHotspotPanoramaOverlayImage'){var aH=aE['get']('vertices');var aI=0x0,aJ=aH['length'];aF=0x0;aG=0x0;while(aI<aJ){var aK=aH[aI++];var aL=aK['get']('yaw');if(aL<0x0)aL+=0x168;aF+=aL;aG+=aK['get']('pitch');}aF/=0x4;aG/=0x4;if(aF>0xb4)aF-=0x168;}else{aF=aE['get']('yaw');aG=aE['get']('pitch');}var aM=aB['getPlayListWithItem'](az);if(aM){var aN=function(){aB['setPanoramaCameraWithSpot'](aM,az,aF,aG);};if(!this['_isInitialized']){var aO=function(){az['unbind']('begin',aO,this);aN();};az['bind']('begin',aO,this);}else{aN();}}}}};TDV['Tour']['prototype']['setComponentsVisibilityByTags']=function(aP,aQ,aR){var aS=this['_getRootPlayer']();if(aS!==undefined){var aT=aS['getComponentsByTags'](aP,aR);for(var aU=0x0,aV=aT['length'];aU<aV;++aU){aT[aU]['set']('visible',aQ);}}};TDV['Tour']['prototype']['setOverlaysVisibilityByTags']=function(aW,aX,aY){var aZ=this['_getRootPlayer']();if(aZ!==undefined){var b0=aZ['getOverlaysByTags'](aW,aY);aZ['setOverlaysVisibility'](b0,aX);}};TDV['Tour']['prototype']['setOverlaysVisibilityByName']=function(b1,b2){var b3=this['_getRootPlayer']();if(b3!==undefined){var b4=b3['getActiveMediaWithViewer'](b3['getMainViewer']());var b5=[];for(var b6=0x0,b7=b1['length'];b6<b7;++b6){var b8=b3['getPanoramaOverlayByName'](b4,b1[b6]);if(b8)b5['push'](b8);}b3['setOverlaysVisibility'](b5,b2);}};TDV['Tour']['prototype']['setObjectsVisibilityByID']=function(b9,ba){var bb=this['_getRootPlayer']();if(bb!==undefined){var bc=bb['getActiveMediaWithViewer'](bb['getMainViewer']());if(bc['get']('class')=='Model3D'){bb['setObjectsVisibilityByID'](bc,b9,ba);}}};TDV['Tour']['prototype']['setModel3DVariant']=function(bd){var be=this['_getRootPlayer']();if(be!==undefined){var bf=be['getActiveMediaWithViewer'](be['getMainViewer']());if(bf['get']('class')=='Model3D'){bf['set']('variant',bd);}}};TDV['Tour']['prototype']['updateDeepLink']=function(){var bg=this['_getRootPlayer']();if(bg!==undefined){bg['updateDeepLink']({'includeCurrentView':!![],'includeCurrentVisibleHotspots':!![],'includeCurrentMeasureModel3DObjects':!![],'setHash':!![]});}};TDV['Tour']['prototype']['setLocale']=function(bh){var bi=this['_getRootPlayer']();if(bi!==undefined&&this['locManager']!==undefined){this['locManager']['setLocale'](bh);}};TDV['Tour']['prototype']['getLocale']=function(){var bj=this['_getRootPlayer']();return bj!==undefined&&this['locManager']!==undefined?this['locManager']['currentLocaleID']:undefined;};TDV['Tour']['prototype']['isMobile']=function(){return TDV['PlayerAPI']['mobile'];};TDV['Tour']['prototype']['isIPhone']=function(){return TDV['PlayerAPI']['device']==TDV['PlayerAPI']['DEVICE_IPHONE'];};TDV['Tour']['prototype']['isIPad']=function(){return TDV['PlayerAPI']['device']==TDV['PlayerAPI']['DEVICE_IPAD'];};TDV['Tour']['prototype']['isIOS']=function(){return this['isIPad']()||this['isIPhone']();};TDV['Tour']['prototype']['isMobileApp']=function(){return navigator['userAgent']['indexOf']('App/TDV')!=-0x1;};TDV['Tour']['prototype']['getNotchValue']=function(){var bk=document['documentElement'];bk['style']['setProperty']('--notch-top','env(safe-area-inset-top)');bk['style']['setProperty']('--notch-right','env(safe-area-inset-right)');bk['style']['setProperty']('--notch-bottom','env(safe-area-inset-bottom)');bk['style']['setProperty']('--notch-left','env(safe-area-inset-left)');var bl=window['getComputedStyle'](bk);return parseInt(bl['getPropertyValue']('--notch-top')||'0',0xa)||parseInt(bl['getPropertyValue']('--notch-right')||'0',0xa)||parseInt(bl['getPropertyValue']('--notch-bottom')||'0',0xa)||parseInt(bl['getPropertyValue']('--notch-left')||'0',0xa);};TDV['Tour']['prototype']['hasNotch']=function(){return this['getNotchValue']()>0x0;};TDV['Tour']['prototype']['_getOrientation']=function(){var bm=this['_getRootPlayer']();if(bm){return bm['get']('orientation');}else if(this['_lockedOrientation']){return this['_lockedOrientation'];}else{return TDV['PlayerAPI']['getOrientation']();}};TDV['Tour']['prototype']['_getParams']=function(bn){var bo={};bn['split']('&')['forEach'](function(bp){var bq=bp['split']('=')[0x0],br=decodeURIComponent(bp['split']('=')[0x1]);bo[bq['toLowerCase']()]=br;});return bo;};TDV['Tour']['prototype']['_getRootPlayer']=function(){return this['player']!==undefined?this['player']['getById']('rootPlayer'):undefined;};TDV['Tour']['prototype']['_setup']=function(){if(!this['_orientation'])this['_orientation']=this['_getOrientation']();this['_device']=this['_getDevice']();this['_currentScriptUrl']=this['_getScriptUrl']();if(this['isMobile']()){var bs=document['getElementById']('metaViewport');if(bs){var bt=this['_devicesUrl'][this['_device']];var bu=0x1;if(typeof bt=='object'&&this['_orientation']in bt&&this['_orientation']==TDV['PlayerAPI']['ORIENTATION_LANDSCAPE']||this['_device']==TDV['Tour']['DEVICE_GENERAL']){bu=bs['getAttribute']('data-tdv-general-scale')||0.5;}var bv=bs['getAttribute']('content');bv=bv['replace'](/initial-scale=(\d+(\.\d+)?)/,function(bw,bx){return'initial-scale='+bu;});bs['setAttribute']('content',bv);}}};TDV['Tour']['prototype']['_getScriptUrl']=function(){var by=this['_devicesUrl'][this['_device']];if(typeof by=='object'){if(this['_orientation']in by){by=by[this['_orientation']];}}return by;};TDV['Tour']['prototype']['_getDevice']=function(){var bz=TDV['Tour']['DEVICE_GENERAL'];if(!this['_isRemoteSession']&&this['isMobile']()){if(this['isIPad']()&&TDV['Tour']['DEVICE_IPAD']in this['_devicesUrl'])bz=TDV['Tour']['DEVICE_IPAD'];else if(TDV['Tour']['DEVICE_MOBILE']in this['_devicesUrl'])bz=TDV['Tour']['DEVICE_MOBILE'];}return bz;};TDV['Tour']['prototype']['_setMediaFromURL']=function(bA,bB){var bC=this['_getRootPlayer']();var bD=bC['getActivePlayerWithViewer'](bC['getMainViewer']());var bE=bD?bC['getMediaFromPlayer'](bD):undefined;var bF;if('media'in bA){var bG=bA['media'];var bH=Number(bG);bF=isNaN(bH)?this['setMediaByName'](bG):this['setMediaByIndex'](bH-0x1);}else if('media-index'in bA){bF=this['setMediaByIndex'](parseInt(bA['media-index'])-0x1);}else if('media-name'in bA){bF=this['setMediaByName'](decodeURIComponent(bA['media-name']));}if(bF==undefined&&bB!==undefined){bF=this['setMediaByIndex'](0x0);}if(bF!=undefined){var bI=bF['get']('player');var bJ=function(){if('trigger-overlay-name'in bA){this['triggerOverlayByName'](bF['get']('media'),bA['trigger-overlay-name'],bA['trigger-overlay-event']);}if('focus-overlay-name'in bA){this['focusOverlayByName'](bF,bA['focus-overlay-name']);}else if('yaw'in bA||'pitch'in bA){var bN=bC['getPlayListWithItem'](bF);if(bN){switch(bF['get']('class')){case'PanoramaPlayListItem':var bO=parseFloat(bA['yaw'])||undefined;var bP=parseFloat(bA['pitch'])||undefined;var bQ=parseFloat(bA['fov'])||undefined;bC['setPanoramaCameraWithSpot'](bN,bF,bO,bP,bQ);break;case'Model3DPlayListItem':var bR=['yaw','pitch','x','y','z','distance'];var bS={};for(var bT=0x0;bT<bR['length'];++bT){var bU=bR[bT];var bV=parseFloat(bA[bU]);if(!isNaN(bV))bS[bU]=bV;}bC['setModel3DCameraSpot'](bN,bF,bS);break;}}}}['bind'](this);if(bI){var bK=bI['get']('viewerArea')==bC['getMainViewer']();var bL=bC['getMediaFromPlayer'](bI);if(bK&&bE==bF['get']('media')||!bK&&bL==bF['get']('media')){bJ();return bF!=undefined;}}var bM=function(){bF['unbind']('begin',bM,this);bJ();};bF['bind']('begin',bM,bC);}return bF!=undefined;};TDV['Tour']['prototype']['_setupRemote']=function(){if(this['isMobile']()&&TDV['Remote']!=undefined){var bW=function(){var bX;var bY=function(){var c1=this['_getRootPlayer']();bX=c1['get']('lockedOrientation');c1['set']('lockedOrientation',this['_lockedOrientation']);}['bind'](this);this['_isRemoteSession']=!![];this['_lockedOrientation']=TDV['PlayerAPI']['ORIENTATION_LANDSCAPE'];if(this['_device']!=TDV['Tour']['DEVICE_GENERAL']){var bZ=function(){bY();this['unbind'](TDV['Tour']['EVENT_TOUR_INITIALIZED'],bZ);}['bind'](this);this['bind'](TDV['Tour']['EVENT_TOUR_INITIALIZED'],bZ);this['reload'](!![]);}else{bY();}var c0=function(){this['_isRemoteSession']=![];this['_getRootPlayer']()['set']('lockedOrientation',bX);TDV['Remote']['unbind'](TDV['Remote']['EVENT_CALL_END'],c0);var c2=this['_getScriptUrl']();if(this['_currentScriptUrl']!=c2)this['reload'](!![]);}['bind'](this);TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_END'],c0);}['bind'](this);TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_BEGIN'],bW);}};TDV['Tour']['prototype']['_updateParams']=function(c3,c4){if(c4&&'language'in c3){var c5=c3['language'];if(this['locManager']['hasLocale'](c5)){this['setLocale'](c5);}}var c6=function(c8,c9,ca){var cb=c9['split'](',');for(var cc=0x0,cd=cb['length'];cc<cd;++cc){c8['call'](this,cb[cc]['split']('+'),ca,'and');}};var c7=function(ce){var cf=this['_getRootPlayer']();var cg=cf['getActiveMediaWithViewer'](cf['getMainViewer']());if(cg['get']('class')!='Model3D')return;var ch=cg['get']('objects');var ci=[];ce['split']('+')['forEach'](function(cj){var ck=cj['split'](',');var cl=ck['shift']();if(cl in cf&&ck['length']%0x3==0x0){var cm=ck[0x0],cn=ck[0x1],co=ck[0x2];var cp=ch['some'](function(cu){return cu['get']('class')=='MeasureModel3DObject'&&cm==cu['get']('x')&&cn==cu['get']('y')&&co==cu['get']('z');});if(cp)return;var cq=[];var cr=_cloneMeasureModel3DObject['call'](this,this[cl]);cr['set']('mode','view');cr['set']('x',cm);cr['set']('y',cn);cr['set']('z',co);for(var cs=0x3;cs<ck['length'];cs+=0x3){var ct=this['createInstance']('MeasureModel3DObjectPoint');ct['set']('x',ck[cs]);ct['set']('y',ck[cs+0x1]);ct['set']('z',ck[cs+0x2]);cq['push'](ct);}cr['set']('points',cq);ci['push'](cr);}}['bind'](cf));if(ci['length']>0x0){cg['set']('objects',ch['concat'](ci));}};if('hide-components-tags'in c3||'hct'in c3)c6['call'](this,this['setComponentsVisibilityByTags'],c3['hide-components-tags']||c3['hct'],![]);if('show-components-tags'in c3||'sct'in c3)c6['call'](this,this['setComponentsVisibilityByTags'],c3['show-components-tags']||c3['sct'],!![]);if('hide-overlays-tags'in c3||'hot'in c3)c6['call'](this,this['setOverlaysVisibilityByTags'],c3['hide-overlays-tags']||c3['hot'],![]);if('show-overlays-tags'in c3||'sot'in c3)c6['call'](this,this['setOverlaysVisibilityByTags'],c3['show-overlays-tags']||c3['sot'],!![]);if('hide-overlays-names'in c3||'hon'in c3)this['setOverlaysVisibilityByName'](decodeURIComponent(c3['hide-overlays-names']||c3['hon'])['split'](','),![]);if('show-overlays-names'in c3||'son'in c3)this['setOverlaysVisibilityByName'](decodeURIComponent(c3['show-overlays-names']||c3['son'])['split'](','),!![]);if('show-object-ids'in c3||'sobjids'in c3)this['setObjectsVisibilityByID'](decodeURIComponent(c3['show-object-ids']||c3['sobjids'])['split'](','),!![]);if('hide-object-ids'in c3||'hobjids'in c3)this['setObjectsVisibilityByID'](decodeURIComponent(c3['hide-object-ids']||c3['hobjids'])['split'](','),![]);if('variant'in c3)this['setModel3DVariant'](decodeURIComponent(c3['variant']));if('measures'in c3)c7['call'](this,decodeURIComponent(c3['measures']['split'](';')));};TDV['Tour']['LocaleManager']=function(cv,cw,cx,cy){TDV['EventDispatcher']['call'](this);this['rootPlayer']=cv;this['locales']={};this['defaultLocale']=cx;this['queryParam']=cy;this['currentLocaleMap']={};this['currentLocaleID']=undefined;for(var cz in cw){this['registerLocale'](cz,cw[cz]);}};TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED']='localeChanged';TDV['Tour']['LocaleManager']['prototype']=new TDV['EventDispatcher']();TDV['Tour']['LocaleManager']['prototype']['registerLocale']=function(cA,cB){var cC=[cA,cA['split']('-')[0x0]];for(var cD=0x0;cD<cC['length'];++cD){cA=cC[cD];if(!(cA in this['locales'])){this['locales'][cA]=cB;}}};TDV['Tour']['LocaleManager']['prototype']['unregisterLocale']=function(cE){delete this['locales'][cE];if(cE==this['currentLocaleID']){this['setLocale'](this['defaultLocale']);}};TDV['Tour']['LocaleManager']['prototype']['hasLocale']=function(cF){return cF in this['locales'];};TDV['Tour']['LocaleManager']['prototype']['setLocale']=function(cG){var cH;var cI=cG['split']('-')[0x0];var cJ=[cG,cI];for(var cK=0x0;cK<cJ['length'];++cK){var cM=cJ[cK];if(cM in this['locales']){cH=cM;break;}}if(cH===undefined){for(var cM in this['locales']){if(cM['indexOf'](cI)==0x0){cH=cM;break;}}}if(cH===undefined){cH=this['defaultLocale'];}var cN=this['locales'][cH];if(cN!==undefined&&this['currentLocaleID']!=cH){this['currentLocaleID']=cH;var cO=this;if(typeof cN=='string'){var cP=new XMLHttpRequest();cP['onreadystatechange']=function(){if(cP['readyState']==0x4){if(cP['status']==0xc8){cO['locales'][cH]=cO['currentLocaleMap']=cO['_parsePropertiesContent'](cP['responseText']);cO['dispatchEvent'](cO['createNewEvent'](TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED']));}else{throw cN+'\x20can\x27t\x20be\x20loaded';}}};var cQ=cN;if(this['queryParam'])cQ+=(cQ['indexOf']('?')==-0x1?'?':'&')+this['queryParam'];cP['open']('GET',cQ);cP['send']();}else{this['currentLocaleMap']=cN;this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED']));}}};TDV['Tour']['LocaleManager']['prototype']['trans']=function(cR){function cS(cW){return/^\d+$/['test'](cW);}var cT=this['currentLocaleMap'][cR];if(cT&&arguments['length']>0x2){var cU=typeof arguments[0x2]=='object'?arguments[0x2]:undefined;var cV=arguments;cT=cT['replace'](/\{\{([\w _\-\.]+)\}\}/g,function(cX,cY){if(cS(cY))cY=cV[parseInt(cY)+0x1];else if(cU!==undefined)cY=cU[cY];if(typeof cY=='string')cY=this['currentLocaleMap'][cY]||cY;else if(typeof cY=='function')cY=cY['call'](this['rootPlayer']);return cY!==undefined?cY:'';}['bind'](this));}return cT;};TDV['Tour']['LocaleManager']['prototype']['_parsePropertiesContent']=function(cZ){cZ=cZ['replace'](/(^|\n)#[^\n]*/g,'');var d0={};var d1=cZ['split']('\x0a');for(var d2=0x0,d3=d1['length'];d2<d3;++d2){var d4=d1[d2]['trim']();if(d4['length']==0x0){continue;}var d5=d4['indexOf']('=');if(d5==-0x1){console['error']('Locale\x20parser:\x20Invalid\x20line\x20'+d2);continue;}var d6=d4['substr'](0x0,d5)['trim']();var d7=d4['substr'](d5+0x1)['trim']();var d8;while((d8=d7['lastIndexOf']('\x5c'))!=-0x1&&d8==d7['length']-0x1&&++d2<d3){d7=d7['substr'](0x0,d7['length']-0x2);d4=d1[d2];if(d4['length']==0x0)break;d7+='\x0a'+d4;d7=d7['trim']();}d0[d6]=d7;}return d0;};TDV['Tour']['HistoryData']=function(d9){this['playList']=d9;this['list']=[];this['pointer']=-0x1;};TDV['Tour']['HistoryData']['prototype']['add']=function(da){if(this['pointer']<this['list']['length']&&this['list'][this['pointer']]==da){return;}++this['pointer'];this['list']['splice'](this['pointer'],this['list']['length']-this['pointer'],da);};TDV['Tour']['HistoryData']['prototype']['back']=function(){if(!this['canBack']())return;this['playList']['set']('selectedIndex',this['list'][--this['pointer']]);};TDV['Tour']['HistoryData']['prototype']['forward']=function(){if(!this['canForward']())return;this['playList']['set']('selectedIndex',this['list'][++this['pointer']]);};TDV['Tour']['HistoryData']['prototype']['canBack']=function(){return this['pointer']>0x0;};TDV['Tour']['HistoryData']['prototype']['canForward']=function(){return this['pointer']>=0x0&&this['pointer']<this['list']['length']-0x1;};function _getObject(db,dc){return typeof dc=='string'?db[dc['replace']('this.','')]:dc;}function _initModels(){var dd=this['getByClassName']('Model3D');dd['forEach'](function(de){var df=de['get']('data');var dg=df['panoramaLocations'];if(dg){dg['forEach'](function(dh){dh=_getObject(this,dh);var di=dh['get']('data');var dj=_getObject(this,di['panorama']);dj['set']('modelLocations',(dj['get']('modelLocations')||[])['concat'](dh));}['bind'](this));}this['getPlayListItems'](de)['forEach'](function(dk){_initModel3DItem['call'](this,dk);}['bind'](this));}['bind'](this));}function _initModel3DItem(dl){var dm=dl['get']('player');if(!dm)return;var dn=dm['get']('viewerArea');if(!dn)return;var dp=dl['get']('media');var dq;dl['bind']('begin',function(){_initModel['call'](this,dp);dq=dn['get']('doubleClickAction');dn['set']('doubleClickAction','none');this['getCurrentPlayers']()['forEach'](function(dr){if(dr['get']('class')=='PanoramaPlayer'&&dr['get']('viewerArea')==dn){dr['set']('model3DPlayer',dm);}});},this);dl['bind']('stop',function(){dn['set']('doubleClickAction',dq);},this);}function _initModel(ds){var dt=ds['get']('data');if(!dt)ds['set']('data',dt={});if(!dt['panoramaLocations']||dt['isInitialized']||!ds['get']('isLoaded'))return;var du=0xb4/Math['PI'];var dv=ds['get']('worldUnitToMeters')||0x1;var dw=dt['maxDistanceObjectsVisible']||0x0;var dx=dt['panoramaLocations'];var dy=[];var dz=this['get']('data')['surfaceSelectionHotspotMode'];var dA=dz=='hotspotEnabled';dx['forEach'](function(dH){dH=_getObject(this,dH);var dI=dH['get']('data');var dJ=ds['getDistanceToFloor']([dH['get']('x'),dH['get']('y'),dH['get']('z')]);var dK=_getObject(this,dI['panorama']);var dL=dx['filter'](function(dU){var dV=_getObject(this,_getObject(this,dU)['get']('data'));return!dV['excludeAsHotspotPanorama']&&dK!=dV['panorama'];}['bind'](this))['map'](function(dW){dW=_getObject(this,dW);var dX=dW['get']('data');var dY=!!dX['excludeSurfaceSelectionModel'];var dZ=dW['get']('x')-dH['get']('x'),e0=dW['get']('y')-dH['get']('y'),e1=dW['get']('z')-dH['get']('z');var e2=Math['atan2'](dZ,-e1)*du;var e3=Math['atan2'](e0,Math['sqrt'](dZ*dZ+e1*e1))*du;var e4=Math['sqrt'](dZ*dZ+e0*e0+e1*e1);var e5=ds['getDistanceToFloor']([dW['get']('x'),dW['get']('y'),dW['get']('z')]);if(dJ!==undefined&&e5!==undefined)e0=e5-dJ;var e6=Math['sqrt'](dZ*dZ+e0*e0+e1*e1);return{'yaw':e2,'pitch':e3,'width':dX['width'],'height':dX['height'],'opacity':dX['opacity'],'anchorX':dX['anchorX']?dX['anchorX']:0.5,'anchorY':dX['anchorY']?dX['anchorY']:0.5,'transparentAreaActive':!!dX['transparentAreaActive'],'actions':dX['actions'],'position':{'x':dW['get']('x'),'y':dW['get']('y'),'z':dW['get']('z')},'toolTip':dX['toolTip'],'image':_getObject(this,dX['image']),'distance':e4*dv,'floorDistance':e6*dv,'panorama':_getObject(this,dX['panorama']),'backwardYaw':e2-0xb4-dW['get']('yaw'),'excludeSurfacePanorama':dY};}['bind'](this));dL['sort'](function(e7,e8){return e7['distance']-e8['distance'];});var dM=[],dN=(dK['get']('adjacentPanoramas')||[])['concat']();var dO=ds['get']('maxNearestObjectsVisible');var dP=dt['showOnlyHotspotsLineSightInPanoramas'];var dQ={'x':dH['get']('x'),'y':dH['get']('y'),'z':dH['get']('z')};dL['forEach'](function(e9){if(e9['panorama']==dK||dO>0x0&&dM['length']>=dO||dw>0x0&&e9['distance']>dw||dP&&ds['testIntersection'](dQ,e9['position']))return;var ea=dC['call'](this,e9['panorama'],e9['yaw']-dH['get']('yaw'),e9['pitch'],e9['width'],e9['height'],e9['anchorX'],e9['anchorY'],e9['opacity'],e9['transparentAreaActive'],e9['image'],dA&&!e9['excludeSurfacePanorama']);var eb=dD['call'](this,e9['panorama'],e9['yaw']-dH['get']('yaw'),e9['backwardYaw'],e9['floorDistance'],!e9['excludeSurfacePanorama']);dM['push'](ea);var ec=dN['findIndex'](function(ef){return ef['get']('panorama')==e9['panorama'];});if(ec!=-0x1)dN['splice'](ec,0x1);dN['push'](eb);var ed=ea['get']('areas')[0x0];if(e9['toolTip'])ed['set']('toolTip',e9['toolTip']);ed['bind']('click',dB['bind'](this,dK,e9['panorama'],ds,!![]),this);eb['bind']('select',dB['bind'](this,dK,e9['panorama'],ds,!![]),this);var ee=e9['actions'];if(ee){dG['call'](this,ea,ee);if('click'in ee)eb['bind']('select',new Function('event',ee['click']),this);}}['bind'](this));dK['set']('overlays',(dK['get']('overlays')||[])['concat'](dM));dK['set']('adjacentPanoramas',dN);var dR=!ds['get']('surfaceSelectionEnabled')||!!dI['excludeSurfaceSelectionModel'];var dS;if(dR){dS=dE['call'](this,dH['get']('x'),dH['get']('y'),dH['get']('z'),dI['width'],dI['height'],dI['anchorX']?dI['anchorX']:0.5,dI['anchorY']?dI['anchorY']:0.5,dI['opacity'],!!dI['transparentAreaActive'],dt['showOnlyHotspotsLineSight'],_getObject(this,dI['image']));dS['set']('id','sprite_'+dH['get']('id'));dS['set']('translationLineColor',dI['translationLineColor']!=null?dI['translationLineColor']:'#ffffff');dS['set']('translationLineOpacity',dI['translationLineOpacity']!=null?dI['translationLineOpacity']:0x1);dS['set']('translationLineVisible',dI['translationLineVisible']!=null?dI['translationLineVisible']:![]);dS['set']('translationLineWidth',dI['translationLineWidth']!=null?dI['translationLineWidth']:0x1);dS['set']('translationLength',dI['translationLength']!=null?dI['translationLength']:dt['showOnlyHotspotsLineSight']&&(dI['translationY']==null||dI['translationY']==0x0)?dI['height']/0x2:undefined);dS['set']('translationX',dI['translationX']!=null?dI['translationX']:0x0);dS['set']('translationY',dI['translationY']!=null&&dI['translationY']!=0x0?dI['translationY']:dt['showOnlyHotspotsLineSight']?0x1:0x0);dS['set']('translationZ',dI['translationZ']!=null?dI['translationZ']:0x0);if(dI['toolTip'])dS['set']('toolTip',dI['toolTip']);}else dS=dF['call'](this,dH['get']('x'),dH['get']('y'),dH['get']('z'));dI['object']=dS;if(dI['tags']!==undefined)dS['get']('data')['tags']=dI['tags'];if(dI['enabled']!==undefined)dS['set']('enabled',dI['enabled']);dS['get']('data')['location']=dH;var dT=dI['actions'];if(dT){dG['call'](this,dS,dT);}dS['bind']('click',dB['bind'](this,ds,dK,ds,![]),this);dy['push'](dS);}['bind'](this));ds['set']('objects',(ds['get']('objects')||[])['concat'](dy));dt['isInitialized']=!![];function dB(eg,eh,ei,ej){var ek=this['getPlayListsWithMedia'](eg,!![])['filter'](function(er){return this['getMediaFromPlayer'](er['get']('items')[er['get']('selectedIndex')]['get']('player'))==eg;}['bind'](this));if(ek['length']==0x0)return;var el=this['getPlayListItemByMedia'](ek[0x0],eg);var em=el['get']('player')['get']('viewerArea');var en;this['getPlayListsWithMedia'](eh)['forEach'](function(es){var et=this['getPlayListItemByMedia'](es,eh);if(et['get']('player')['get']('viewerArea')==em){if(ej&&el['get']('player')['get']('viewerArea')['get']('translationTransitionEnabled')){eo();et['bind']('begin',eq,this);}es['set']('selectedIndex',es['get']('items')['indexOf'](et));}}['bind'](this));function eo(){en=ei['get']('objects')['filter'](function(eu){var ev=eu['get']('data');return ev&&ev['location']!==undefined;});en['forEach'](function(ew){ew['set']('enabled',![]);});}function ep(){en['forEach'](function(ex){ex['set']('enabled',!![]);});}function eq(ey){ey['source']['unbind']('begin',eq,this);ep();}}function dC(ez,eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ){var eK=_createInstanceFromObj(this,{'class':'HotspotPanoramaOverlay','useHandCursor':!![],'enabledInSurfaceSelection':eJ,'areas':[{'class':'HotspotPanoramaOverlayArea','mapColor':eH?'any':'image'}],'items':[{'class':'FlatHotspotPanoramaOverlayImage','yaw':eA,'pitch':eB,'width':eC,'height':eD,'offsetX':eE*eC,'offsetY':eF*eD,'opacity':eG!=undefined?eG:0x1}]});eK['get']('items')[0x0]['set']('image',eI);return eK;}function dD(eL,eM,eN,eO,eP){return _createInstanceFromObj(this,{'class':'AdjacentPanorama','panorama':'this.'+eL['get']('id'),'backwardYaw':eN,'yaw':eM,'distance':eO,'enabledInSurfaceSelection':eP});}function dE(eQ,eR,eS,eT,eU,eV,eW,eX,eY,eZ,f0){var f1=_createInstanceFromObj(this,{'class':'SpriteModel3DObject','x':eQ,'y':eR,'z':eS,'anchorX':eV,'anchorY':eW,'depthTest':eZ,'transparentAreaActive':eY,'hideBasedOnDistance':!![],'width':eT,'height':eU,'opacity':eX!=undefined?eX:0x1,'data':{}});f1['set']('image',f0);return f1;}function dF(f2,f3,f4){return _createInstanceFromObj(this,{'class':'SurfaceReticleModel3DObject','x':f2,'y':f3,'z':f4,'depthTest':![],'data':{}});}function dG(f5,f6){Object['keys'](f6)['forEach'](function(f7){if(f5['hasEvent'](f7))f5['bind'](f7,new Function('event',f6[f7]),this);}['bind'](this));}}function _findLocationWithPanorama(f8){var f9=this['getByClassName']('Model3D');for(var fa=0x0,fb=f9['length'];fa<fb;++fa){var fc=f9[fa];var fd=fc['get']('data');if(fd&&fd['panoramaLocations']){var fe=fd['panoramaLocations']['find'](function(ff){ff=_getObject(this,ff);return _getObject(this,ff['get']('data')['panorama'])==f8;}['bind'](this));if(fe)return _getObject(this,fe);}}return undefined;}function _getPlayersWithViewer(fg){var fh=this['getCurrentPlayers']();var fi=fh['length'];while(fi-->0x0){var fj=fh[fi];if(fj['get']('viewerArea')!=fg){fh['splice'](fi,0x1);}}return fh;}function _createInstance(fk,fl,fm){var fn=fk['createInstance'](fl);if(fm){fn['set']('id',fm);fk[fm]=fn;}return fn;}function _createInstanceFromObj(fo,fp){return fq(fp);function fq(fr,fs){if(typeof fr=='object'){if('class'in fr){try{fs=_createInstance(fo,fr['class'],fr['id']);}catch(fw){fs=fr;}}else{fs=fr;}}var ft=function(fx,fy){if('set'in fs)fs['set'](fx,fy);else fs[fx]=fy;};for(var fu in fr){var fv=fr[fu];if(typeof fv=='object'&&fv!==null)ft(fu,fq(fv,fs));else if(typeof fv=='string'&&fv['indexOf']('this.')==0x0)ft(fu,fo[fv['replace']('this.','')]);else ft(fu,fv);}return fs;}}TDV['Tour']['Script']=function(){};TDV['Tour']['Script']['assignObjRecursively']=function(fz,fA){for(var fB in fz){var fC=fz[fB];if(typeof fC=='object'&&fC!==null)this['assignObjRecursively'](fz[fB],fA[fB]||(fA[fB]={}));else fA[fB]=fC;}return fA;};TDV['Tour']['Script']['autotriggerAtStart']=function(fD,fE,fF){var fG=function(fH){fE();if(fF==!![])fD['unbind']('change',fG,this);};fD['bind']('change',fG,this);};TDV['Tour']['Script']['changeBackgroundWhilePlay']=function(fI,fJ,fK){var fL=function(){fM['unbind']('stop',fL,this);if(fK==fO['get']('backgroundColor')&&fR==fO['get']('backgroundColorRatios')){fO['set']('backgroundColor',fP);fO['set']('backgroundColorRatios',fQ);}};var fM=fI['get']('items')[fJ];var fN=fM['get']('player');var fO=fN['get']('viewerArea');var fP=fO['get']('backgroundColor');var fQ=fO['get']('backgroundColorRatios');var fR=[0x0];if(fK!=fP||fR!=fQ){fO['set']('backgroundColor',fK);fO['set']('backgroundColorRatios',fR);fM['bind']('stop',fL,this);}};TDV['Tour']['Script']['changeOpacityWhilePlay']=function(fS,fT,fU){var fV=function(){fW['unbind']('stop',fV,this);if(fZ==fY['get']('backgroundOpacity')){fY['set']('opacity',fZ);}};var fW=fS['get']('items')[fT];var fX=fW['get']('player');var fY=fX['get']('viewerArea');var fZ=fY['get']('backgroundOpacity');if(fU!=fZ){fY['set']('backgroundOpacity',fU);fW['bind']('stop',fV,this);}};TDV['Tour']['Script']['changePlayListWithSameSpot']=function(g0,g1){var g2=g0['get']('selectedIndex');if(g2>=0x0&&g1>=0x0&&g2!=g1){var g3=g0['get']('items')[g2];var g4=g0['get']('items')[g1];var g5=g3['get']('player');var g6=g4['get']('player');if((g5['get']('class')=='PanoramaPlayer'||g5['get']('class')=='Video360Player')&&(g6['get']('class')=='PanoramaPlayer'||g6['get']('class')=='Video360Player')){var g7=this['clonePanoramaCamera'](g4['get']('camera'));this['setCameraSameSpotAsMedia'](g7,g3['get']('media'));var g8=g7['get']('initialPosition');if(g8['get']('yaw')==undefined||g8['get']('pitch')==undefined||g8['get']('hfov')==undefined)return;this['startPanoramaWithCamera'](g4['get']('media'),g7);}}};TDV['Tour']['Script']['clone']=function(g9,gb){var gc=this['rootPlayer']['createInstance'](g9['get']('class'));var gd=g9['get']('id');if(gd){var ge=gd+'_'+Math['random']()['toString'](0x24)['substring'](0x2,0xf);gc['set']('id',ge);this[ge]=gc;}for(var gf=0x0;gf<gb['length'];++gf){var gg=gb[gf];var gh=g9['get'](gg);if(gh!=null)gc['set'](gg,gh);}return gc;};TDV['Tour']['Script']['cloneBindings']=function(gi,gj,gk){var gl=gi['getBindings'](gk);for(var gm=0x0;gm<gl['length'];++gm){var gn=gl[gm];if(typeof gn=='string')gn=new Function('event',gn);gj['bind'](gk,gn,this);}};TDV['Tour']['Script']['clonePanoramaCamera']=function(go){var gp=this['clone'](go,['manualRotationSpeed','manualZoomSpeed','automaticRotationSpeed','automaticZoomSpeed','timeToIdle','sequences','draggingFactor','hoverFactor']);var gq=['initialSequence','idleSequence'];for(var gr=0x0;gr<gq['length'];++gr){var gs=gq[gr];var gt=go['get'](gs);if(gt){var gu=this['clone'](gt,['mandatory','repeat','restartMovementOnUserInteraction','restartMovementDelay']);gp['set'](gs,gu);var gv=gt['get']('movements');var gw=[];var gx=['easing','duration','hfovSpeed','pitchSpeed','yawSpeed','path','stereographicFactorSpeed','targetYaw','targetPitch','targetHfov','targetStereographicFactor','hfovDelta','pitchDelta','yawDelta'];for(var gy=0x0;gy<gv['length'];++gy){var gz=gv[gy];var gA=this['clone'](gz,gx);var gB=gz['getBindings']('end');if(gB['length']>0x0){for(var gC=0x0;gC<gB['length'];++gC){var gD=gB[gC];if(typeof gD=='string'){gD=gD['replace'](go['get']('id'),gp['get']('id'));gD=new Function('event',gD);gA['bind']('end',gD,this);}}}gw['push'](gA);}gu['set']('movements',gw);}}return gp;};TDV['Tour']['Script']['copyObjRecursively']=function(gE){var gF={};for(var gG in gE){var gH=gE[gG];if(typeof gH=='object'&&gH!==null)gF[gG]=this['copyObjRecursively'](gE[gG]);else gF[gG]=gH;}return gF;};TDV['Tour']['Script']['copyToClipboard']=function(gI){if(navigator['clipboard']){navigator['clipboard']['writeText'](gI);}else{var gJ=document['createElement']('textarea');gJ['value']=gI;gJ['style']['position']='fixed';document['body']['appendChild'](gJ);gJ['focus']();gJ['select']();try{document['execCommand']('copy');}catch(gK){}document['body']['removeChild'](gJ);}};TDV['Tour']['Script']['createTween']=function(gL,gM,gN,gO,gP){var gQ=this['rootPlayer']['createInstance']('Effect');var gR=this['get']('data')['tweensState'];if(!gR){this['get']('data')['tweensState']=gR={};}var gS='get'in gL&&typeof gL['get']==='function';var gT=(gS&&gL['get']('id')?gL['get']('id'):(Math['random']()+0x1)['toString'](0x24)['substring'](0x2))+'_';var gU={};for(var gV in gM){var gW=gM[gV];if(gV['startsWith']('on')&&(typeof gW==='function'||typeof gW==='string')){var gX=gV['slice'](0x2);if(typeof gW==='string')gW=eval('('+gW+')');gQ['bind'](gX['charAt'](0x0)['toLowerCase']()+gX['slice'](0x1),gW,this);}else if(typeof gW==='string'&&gW['startsWith']('#')){var gY=parseInt('0x'+(gS?gL['get'](gV)['slice'](0x1):gL[gV]['slice'](0x1)));var gZ=parseInt('0x'+gW['slice'](0x1));gU[gV]={'color':!![],'initialRGB':[gY>>0x10&0xff,gY>>0x8&0xff,gY&0xff],'finalRGB':[gZ>>0x10&0xff,gZ>>0x8&0xff,gZ&0xff]};gR[gT+gV]=gQ;}else{gU[gV]=gS?gL['get'](gV):gL[gV];if(gV=='yaw'&&gW-gU[gV]>0xb4)gU[gV]=gU[gV]+(gW>gU[gV]?0x168:-0x168);gR[gT+gV]=gQ;}}gQ['set']('duration',(gN||0x0)*0x3e8);gQ['set']('easing',gO||'cubic_in_out');gQ['set']('animationDirection',gP||'normal');gQ['bind']('end',function(){for(var h0 in gU){if(gR[gT+h0]==gQ)delete gR[gT+h0];}this['disposeInstance'](gQ);},this);gQ['bind']('frame',function(){var h1=gQ['getPosition']();for(var h2 in gU){var h3=gU[h2];if(gR[gT+h2]!=gQ)continue;if(typeof h3==='object'&&'color'in h3){var h4=Math['round'](h3['initialRGB'][0x0]+(h3['finalRGB'][0x0]-h3['initialRGB'][0x0])*h1);var h5=Math['round'](h3['initialRGB'][0x1]+(h3['finalRGB'][0x1]-h3['initialRGB'][0x1])*h1);var h6=Math['round'](h3['initialRGB'][0x2]+(h3['finalRGB'][0x2]-h3['initialRGB'][0x2])*h1);h3='#'+((0x1<<0x18)+(h4<<0x10)+(h5<<0x8)+h6)['toString'](0x10)['slice'](0x1);}else{h3=h3+(gM[h2]-h3)*h1;}if(gS)gL['set'](h2,h3);else gL[h2]=h3;}},this);return gQ;};TDV['Tour']['Script']['executeFunctionWhenChange']=function(h7,h8,h9,ha){var hb=undefined;var hc=function(hg){if(hg['data']['previousSelectedIndex']==h8){if(ha)ha['call'](this);if(h9&&hb)hb['unbind']('end',h9,this);h7['unbind']('change',hc,this);}};if(h9){var hd=h7['get']('items')[h8];var he=hd['get']('class');if(he=='PanoramaPlayListItem'||he=='Model3DPlayListItem'){var hf=hd['get']('camera');if(hf!=undefined){hb=hf['get']('initialSequence');if(hb==undefined)hb=hf['get']('idleSequence');}}else{hb=hd['get']('media');}if(hb){hb['bind']('end',h9,this);}}h7['bind']('change',hc,this);};TDV['Tour']['Script']['executeJS']=function(hh){try{eval(hh);}catch(hi){console['log']('Javascript\x20error:\x20'+hi);console['log']('\x20\x20\x20code:\x20'+hh);}};TDV['Tour']['Script']['fixTogglePlayPauseButton']=function(hj){var hk=hj['get']('buttonPlayPause');if(typeof hk!=='undefined'&&hj['get']('state')=='playing'){if(!Array['isArray'](hk))hk=[hk];for(var hl=0x0;hl<hk['length'];++hl)hk[hl]['set']('pressed',!![]);}};TDV['Tour']['Script']['getActiveMediaWithViewer']=function(hm){var hn=this['getActivePlayerWithViewer'](hm);if(hn==undefined){return undefined;}return this['getMediaFromPlayer'](hn);};TDV['Tour']['Script']['getActivePlayerWithViewer']=function(ho){var hp=this['getActivePlayersWithViewer'](ho);if(hp['length']>0x1){hp['sort'](function(hq,hr){var hs=hq['get']('class');var ht=hr['get']('class');if(hs=='Model3DPlayer')return 0x1;else if(ht=='Model3DPlayer')return-0x1;else return 0x0;});}return hp['length']>0x0?hp[0x0]:undefined;};TDV['Tour']['Script']['getActivePlayersWithViewer']=function(hu){var hv=this['getCurrentPlayers']();var hw=hv['length'];var hx=[];while(hw-->0x0){var hy=hv[hw];if(hy['get']('viewerArea')==hu){var hz=hy['get']('class');if(hz=='PanoramaPlayer'&&(hy['get']('panorama')!=undefined||hy['get']('video')!=undefined)||(hz=='VideoPlayer'||hz=='Video360Player')&&hy['get']('video')!=undefined||hz=='PhotoAlbumPlayer'&&hy['get']('photoAlbum')!=undefined||hz=='MapPlayer'&&hy['get']('map')!=undefined||hz=='Model3DPlayer'&&hy['get']('model')!=undefined)hx['push'](hy);}}return hx;};TDV['Tour']['Script']['getCurrentPlayerWithMedia']=function(hA){var hB=undefined;var hC=undefined;switch(hA['get']('class')){case'Panorama':case'LivePanorama':case'HDRPanorama':hB='PanoramaPlayer';hC='panorama';break;case'Video360':hB='PanoramaPlayer';hC='video';break;case'PhotoAlbum':hB='PhotoAlbumPlayer';hC='photoAlbum';break;case'Map':hB='MapPlayer';hC='map';break;case'Video':hB='VideoPlayer';hC='video';break;case'Model3D':hB='Model3DPlayer';hC='media';break;}if(hB!=undefined){var hD=this['getByClassName'](hB);for(var hE=0x0;hE<hD['length'];++hE){var hF=hD[hE];if(hF['get'](hC)==hA){return hF;}}}else{return undefined;}};TDV['Tour']['Script']['getCurrentPlayers']=function(){var hG=this['getByClassName']('PanoramaPlayer');hG=hG['concat'](this['getByClassName']('VideoPlayer'));hG=hG['concat'](this['getByClassName']('Video360Player'));hG=hG['concat'](this['getByClassName']('PhotoAlbumPlayer'));hG=hG['concat'](this['getByClassName']('MapPlayer'));hG=hG['concat'](this['getByClassName']('Model3DPlayer'));return hG;};TDV['Tour']['Script']['getGlobalAudio']=function(hH){var hI=window['currentGlobalAudios'];if(hI!=undefined&&hH['get']('id')in hI){hH=hI[hH['get']('id')]['audio'];}return hH;};TDV['Tour']['Script']['getMediaByName']=function(hJ){var hK=this['getByClassName']('Media');for(var hL=0x0,hM=hK['length'];hL<hM;++hL){var hN=hK[hL];var hO=hN['get']('data');if(hO&&hO['label']==hJ){return hN;}}return undefined;};TDV['Tour']['Script']['getMediaByTags']=function(hP,hQ){return this['_getObjectsByTags'](hP,['Media'],'tags2Media',hQ);};TDV['Tour']['Script']['getAudioByTags']=function(hR,hS){return this['_getObjectsByTags'](hR,['Audio'],'tags2Media',hS);};TDV['Tour']['Script']['getOverlaysByTags']=function(hT,hU){var hV=this['_getObjectsByTags'](hT,['HotspotPanoramaOverlay','HotspotMapOverlay','VideoPanoramaOverlay','QuadVideoPanoramaOverlay','FramePanoramaOverlay','QuadFramePanoramaOverlay','SpriteModel3DObject','PanoramaModel3DLocation'],'tags2Overlays',hU);return hV['map'](hW=>{return hW['get']('class')=='PanoramaModel3DLocation'?hW['get']('data')['object']:hW;});};TDV['Tour']['Script']['getOverlaysByGroupname']=function(hX){var hY=this['get']('data');var hZ='groupname2Overlays';var i0=hY[hZ];if(!i0){var i1=['HotspotPanoramaOverlay','VideoPanoramaOverlay','QuadVideoPanoramaOverlay','FramePanoramaOverlay','QuadFramePanoramaOverlay'];hY[hZ]=i0={};for(var i2=0x0;i2<i1['length'];++i2){var i3=i1[i2];var i4=this['getByClassName'](i3);for(var i5=0x0,i6=i4['length'];i5<i6;++i5){var i7=i4[i5];var i8=i7['get']('data');if(i8&&i8['group']){var i9=i0[i8['group']];if(!i9)i0[i8['group']]=i9=[];i9['push'](i7);}}}}return i0[hX]||[];};TDV['Tour']['Script']['getRootOverlay']=function(ia){var ib=ia['get']('class');var ic=ib['indexOf']('HotspotPanoramaOverlayArea')!=-0x1;var ie=ib['indexOf']('HotspotPanoramaOverlayImage')!=-0x1;if(ic||ie){var ig=this['get']('data');var ih='overlays';var ii=ig[ih];if(!ii){var ij=['HotspotPanoramaOverlay'];ii=[];for(var ik=0x0;ik<ij['length'];++ik){var il=ij[ik];ii=ii['concat'](this['getByClassName'](il));}ig[ih]=ii;}var im=ic?'areas':'items';for(var io=0x0,ip=ii['length'];io<ip;++io){var iq=ii[io];var ir=iq['get'](im);if(ir){for(var is=0x0;is<ir['length'];++is){if(ir[is]==ia)return iq;}}}}return ia;};TDV['Tour']['Script']['initOverlayGroupRotationOnClick']=function(it){var iu=this['getOverlaysByGroupname'](it);if(iu['length']>0x1){iu['sort'](function(iB,iC){var iD=iB['get']('data')['groupIndex'];var iE=iC['get']('data')['groupIndex'];return iD-iE;});for(var iv=0x0,iw=iu['length'];iv<iw;++iv){var ix=iu[iv];var iy=iu[(iv+0x1)%iw];var iz=ix['get']('class');var iA=ix;if(iz=='HotspotPanoramaOverlay'){iA=ix['get']('areas')[0x0];}iA['bind']('click',function(iF,iG){this['setOverlaysVisibility']([iF],![]);this['setOverlaysVisibility']([iG],!![]);}['bind'](this,ix,iy),this);}}};TDV['Tour']['Script']['getComponentsByTags']=function(iH,iI){return this['_getObjectsByTags'](iH,['UIComponent'],'tags2Components',iI);};TDV['Tour']['Script']['_getObjectsByTags']=function(iJ,iK,iL,iM){var iN=this['get']('data');var iO=iN[iL];if(!iO){iN[iL]=iO={};for(var iP=0x0;iP<iK['length'];++iP){var iQ=iK[iP];var iR=this['getByClassName'](iQ);for(var iT=0x0,iV=iR['length'];iT<iV;++iT){var iX=iR[iT];var iY=iX['get']('data');if(iY&&iY['tags']){var iZ=iY['tags'];for(var j2=0x0,j3=iZ['length'];j2<j3;++j2){var j4=iZ[j2];if(j4 in iO)iO[j4]['push'](iX);else iO[j4]=[iX];}}}}}var j5=undefined;iM=iM||'and';for(var iT=0x0,iV=iJ['length'];iT<iV;++iT){var j6=iO[iJ[iT]];if(!j6)continue;if(!j5)j5=j6['concat']();else{if(iM=='and'){for(var j2=j5['length']-0x1;j2>=0x0;--j2){if(j6['indexOf'](j5[j2])==-0x1)j5['splice'](j2,0x1);}}else if(iM=='or'){for(var j2=j6['length']-0x1;j2>=0x0;--j2){var iX=j6[j2];if(j5['indexOf'](iX)==-0x1)j5['push'](iX);}}}}return j5||[];};TDV['Tour']['Script']['getComponentByName']=function(j7){var j8=this['getByClassName']('UIComponent');for(var j9=0x0,ja=j8['length'];j9<ja;++j9){var jb=j8[j9];var jc=jb['get']('data');if(jc!=undefined&&jc['name']==j7){return jb;}}return undefined;};TDV['Tour']['Script']['getMainViewer']=function(){var jd='MainViewer';return this[jd]||this[jd+'_mobile'];};TDV['Tour']['Script']['getMediaFromPlayer']=function(je){switch(je['get']('class')){case'PanoramaPlayer':return je['get']('panorama')||je['get']('video');case'VideoPlayer':case'Video360Player':return je['get']('video');case'PhotoAlbumPlayer':return je['get']('photoAlbum');case'MapPlayer':return je['get']('map');case'Model3DPlayer':return je['get']('model');}};TDV['Tour']['Script']['getMediaWidth']=function(jf){switch(jf['get']('class')){case'Video360':var jg=jf['get']('video');if(jg instanceof Array){var jh=0x0;for(var ji=0x0;ji<jg['length'];ji++){var jj=jg[ji];if(jj['get']('width')>jh)jh=jj['get']('width');}return jh;}else{return jj['get']('width');}default:return jf['get']('width');}};TDV['Tour']['Script']['getMediaHeight']=function(jk){switch(jk['get']('class')){case'Video360':var jl=jk['get']('video');if(jl instanceof Array){var jm=0x0;for(var jn=0x0;jn<jl['length'];jn++){var jo=jl[jn];if(jo['get']('height')>jm)jm=jo['get']('height');}return jm;}else{return jo['get']('height');}default:return jk['get']('height');}};TDV['Tour']['Script']['getOverlays']=function(jp){switch(jp['get']('class')){case'LivePanorama':case'HDRPanorama':case'Panorama':var jq=jp['get']('overlays')['concat']()||[];var jr=jp['get']('frames');for(var js=0x0;js<jr['length'];++js){jq=jq['concat'](jr[js]['get']('overlays')||[]);}return jq;case'Video360':case'Map':return jp['get']('overlays')||[];case'Model3D':return jp['get']('objects');default:return[];}};TDV['Tour']['Script']['getPanoramaOverlayByName']=function(jt,ju){var jv=this['getOverlays'](jt);for(var jw=0x0,jx=jv['length'];jw<jx;++jw){var jy=jv[jw];var jz=jy['get']('data');if(jz!=undefined&&jz['label']==ju){return jy;}}return undefined;};TDV['Tour']['Script']['getPanoramaOverlaysByTags']=function(jA,jB,jC){var jD=[];var jE=this['getOverlays'](jA);var jF=this['getOverlaysByTags'](jB,jC);for(var jG=0x0,jH=jE['length'];jG<jH;++jG){var jI=jE[jG];if(jF['indexOf'](jI)!=-0x1)jD['push'](jI);}return jD;};TDV['Tour']['Script']['getPixels']=function(jJ){var jK=/((\+|-)?d+(.d*)?)(px|vw|vh|vmin|vmax)?/i['exec'](jJ);if(jK==undefined){return 0x0;}var jL=parseFloat(jK[0x1]);var jM=jK[0x4];var jN=this['rootPlayer']['get']('actualWidth')/0x64;var jO=this['rootPlayer']['get']('actualHeight')/0x64;switch(jM){case'vw':return jL*jN;case'vh':return jL*jO;case'vmin':return jL*Math['min'](jN,jO);case'vmax':return jL*Math['max'](jN,jO);default:return jL;}};TDV['Tour']['Script']['getPlayListsWithMedia']=function(jP,jQ){var jR=[];var jS=this['getByClassName']('PlayList');for(var jT=0x0,jU=jS['length'];jT<jU;++jT){var jV=jS[jT];if(jQ&&jV['get']('selectedIndex')==-0x1)continue;var jW=this['getPlayListItemByMedia'](jV,jP);if(jW!=undefined&&jW['get']('player')!=undefined)jR['push'](jV);}return jR;};TDV['Tour']['Script']['_getPlayListsWithViewer']=function(jX){var jY=this['getByClassName']('PlayList');var jZ=function(k1){var k2=k1['get']('items');for(var k3=k2['length']-0x1;k3>=0x0;--k3){var k4=k2[k3];var k5=k4['get']('player');if(k5!==undefined&&k5['get']('viewerArea')==jX)return!![];}return![];};for(var k0=jY['length']-0x1;k0>=0x0;--k0){if(!jZ(jY[k0]))jY['splice'](k0,0x1);}return jY;};TDV['Tour']['Script']['getPlayListWithItem']=function(k6){var k7=this['getByClassName']('PlayList');for(var k8=k7['length']-0x1;k8>=0x0;--k8){var k9=k7[k8];var ka=k9['get']('items');for(var kb=ka['length']-0x1;kb>=0x0;--kb){var kc=ka[kb];if(kc==k6)return k9;}}return undefined;};TDV['Tour']['Script']['getFirstPlayListWithMedia']=function(kd,ke){var kf=this['getPlayListsWithMedia'](kd,ke);return kf['length']>0x0?kf[0x0]:undefined;};TDV['Tour']['Script']['getPlayListItemByMedia']=function(kg,kh){var ki=kg['get']('items');for(var kj=0x0,kk=ki['length'];kj<kk;++kj){var kl=ki[kj];if(kl['get']('media')==kh)return kl;}return undefined;};TDV['Tour']['Script']['getPlayListItemIndexByMedia']=function(km,kn){var ko=this['getPlayListItemByMedia'](km,kn);return ko?km['get']('items')['indexOf'](ko):-0x1;};TDV['Tour']['Script']['getPlayListItems']=function(kp,kq){var kr=function(){switch(kp['get']('class')){case'Panorama':case'LivePanorama':case'HDRPanorama':return'PanoramaPlayListItem';case'Map':return'MapPlayListItem';case'Model3D':return'Model3DPlayListItem';case'PhotoAlbum':return'PhotoAlbumPlayListItem';case'Video':return'VideoPlayListItem';case'Video360':return'Video360PlayListItem';}}();if(kr!=undefined){var ks=this['getByClassName'](kr);for(var kt=ks['length']-0x1;kt>=0x0;--kt){var ku=ks[kt];if(ku['get']('media')!=kp||kq!=undefined&&ku['get']('player')!=kq){ks['splice'](kt,0x1);}}return ks;}else{return[];}};TDV['Tour']['Script']['historyGoBack']=function(kv){var kw=this['get']('data')['history'][kv['get']('id')];if(kw!=undefined){kw['back']();}};TDV['Tour']['Script']['historyGoForward']=function(kx){var ky=this['get']('data')['history'][kx['get']('id')];if(ky!=undefined){ky['forward']();}};TDV['Tour']['Script']['init']=function(){var kz=this['get']('data')['history'];var kA=function(kJ){var kK=kJ['source'];var kL=kK['get']('selectedIndex');if(kL<0x0)return;var kM=kK['get']('id');if(!kz['hasOwnProperty'](kM))kz[kM]=new TDV['Tour']['HistoryData'](kK);kz[kM]['add'](kL);};var kB=this['getByClassName']('PlayList');for(var kD=0x0,kE=kB['length'];kD<kE;++kD){var kF=kB[kD];kF['bind']('change',kA,this);}if(this['getMainViewer']()['get']('translationTransitionEnabled')){var kG=this['getByClassName']('ThumbnailList');kG=kG['concat'](this['getByClassName']('ThumbnailGrid'));kG=kG['concat'](this['getByClassName']('DropDown'));function kN(kO){var kP=kO['source']['get']('playList');var kQ=kP['get']('selectedIndex');if(kQ>=0x0){this['skip3DTransitionOnce'](kP['get']('items')[kQ]['get']('player'));}}for(var kD=0x0,kH=kG['length'];kD<kH;++kD){var kI=kG[kD];kI['bind']('change',kN,this);}}_initModels['call'](this);};TDV['Tour']['Script']['sendAnalyticsData']=function(kR,kS,kT){if(window['dataLayer']){window['dataLayer']['push']({'event':kS,'label':kT,'category':kR});}if(!this['get']('data')['tour']['player']['cookiesEnabled'])return;if(window['ga']){window['ga']('send','event',kR,kS,kT);}if(window['gtag']){window['gtag']('event',kS,{'category':kR,'label':kT});}};TDV['Tour']['Script']['initAnalytics']=function(){var kV=this['getByClassName']('Panorama');kV=kV['concat'](this['getByClassName']('Video360'));kV=kV['concat'](this['getByClassName']('Map'));kV=kV['concat'](this['getByClassName']('Model3D'));for(var kY=0x0,l1=kV['length'];kY<l1;++kY){var l2=kV[kY];var l5=l2['get']('data');var l6=l5?l5['label']:'';var l7=this['getOverlays'](l2);for(var l8=0x0,l9=l7['length'];l8<l9;++l8){var la=l7[l8];var lb=la['get']('data')!=undefined?l6+'\x20-\x20'+la['get']('data')['label']:l6;switch(la['get']('class')){case'FlatHotspotPanoramaOverlay':case'HotspotPanoramaOverlay':case'HotspotMapOverlay':case'AreaHotspotMapOverlay':var lc=la['get']('areas');for(var ld=0x0;ld<lc['length'];++ld){lc[ld]['bind']('click',this['sendAnalyticsData']['bind'](this,'Hotspot','click',lb),this,![]);}break;case'CeilingCapPanoramaOverlay':case'TripodCapPanoramaOverlay':la['bind']('click',this['sendAnalyticsData']['bind'](this,'Cap','click',lb),this,![]);break;case'QuadVideoPanoramaOverlay':case'VideoPanoramaOverlay':la['bind']('click',this['sendAnalyticsData']['bind'](this,'Hotspot','click',lb),this,![]);la['bind']('start',this['sendAnalyticsData']['bind'](this,'Hotspot','start',lb),this,![]);break;case'QuadFramePanoramaOverlay':case'FramePanoramaOverlay':case'SpriteModel3DObject':la['bind']('click',this['sendAnalyticsData']['bind'](this,'Hotspot','click',lb),this,![]);break;}}}var le=this['getByClassName']('UIComponent');for(var kY=0x0,l1=le['length'];kY<l1;++kY){var lf=le[kY];var lg=lf['getBindings']('click');if(lg['length']>0x0){var l5=lf['get']('data');if(l5===undefined)continue;var lh=l5['name'];lf['bind']('click',this['sendAnalyticsData']['bind'](this,'Skin','click',lh),this,![]);}}var li=this['mainPlayList']['get']('items')['concat'](this['getByClassName']('PlayListItem'));var lj={};for(var kY=0x0,l1=li['length'];kY<l1;++kY){var lk=li[kY];var kV=lk['get']('media');if(!(kV['get']('id')in lj)){var l5=kV['get']('data');lk['bind']('begin',this['sendAnalyticsData']['bind'](this,'Media','play',l5?l5['label']:undefined),this,![]);lj[kV['get']('id')]=lk;}}if(TDV['Remote']!=undefined){var ll=undefined;TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_BEGIN'],function(lm){ll=Date['now']();this['sendAnalyticsData']('Live\x20Guided\x20Tour','Start\x20Call','Guest:\x20'+lm);}['bind'](this));TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_END'],function(ln){var lo=new Date();lo['setTime'](Date['now']()-ll);this['sendAnalyticsData']('Live\x20Guided\x20Tour','End\x20Call','Guest:\x20'+ln+'\x20Duration:\x20'+lo['toUTCString']()['split']('\x20')[0x4]);}['bind'](this));}};TDV['Tour']['Script']['initQuiz']=function(lp,lq,lr){var ls={"question":{"veil":{"backgroundOpacity":0.3,"backgroundColor":"#000000"},"window":{"shadowSpread":4,"shadowOpacity":0.3,"backgroundColor":"#ffffff","bodyContainer":{"height":"100%","paddingBottom":30,"gap":35,"layout":"horizontal","paddingRight":30,"paddingLeft":30,"width":"100%"},"shadowColor":"#000000","paddingRight":20,"buttonsContainer":{"verticalAlign":"bottom","horizontalAlign":"right","button":{"backgroundColor":"#000000","backgroundOpacity":0.7,"fontFamily":"Arial","fontWeight":"bold","paddingRight":25,"fontColor":"#ffffff","fontSize":18,"verticalAlign":"middle","paddingTop":10,"horizontalAlign":"center","borderRadius":3,"paddingBottom":10,"paddingLeft":25}},"minWidth":500,"height":"60%","shadowHorizontalLength":0,"shadowBlurRadius":4,"shadowVerticalLength":0,"width":"60%","backgroundOpacity":1,"borderRadius":5,"optionsContainer":{"contentOpaque":true,"height":"100%","gap":10,"width":"30%","overflow":"scroll"},"horizontalAlign":"center","paddingTop":20,"mediaContainer":{"height":"100%","viewerArea":{"playbackBarBorderRadius":0,"playbackBarBackgroundColor":"#000000","playbackBarProgressBackgroundColor":"#3399ff","backgroundColor":"#e6e6e6","playbackBarHeight":6,"playbackBarHeadBorderSize":3,"playbackBarHeadShadowHorizontalLength":0,"playbackBarHeadShadow":true,"playbackBarHeadBorderRadius":7,"playbackBarBackgroundOpacity":0.5,"playbackBarHeadShadowVerticalLength":0,"playbackBarProgressOpacity":0.5,"playbackBarHeadWidth":14,"playbackBarHeadShadowOpacity":0.3,"playbackBarHeadOpacity":1,"playbackBarHeadShadowSpread":2,"backgroundOpacity":1,"playbackBarHeadBackgroundColor":"#cccccc","playbackBarHeadBorderColor":"#ffffff","playbackBarBorderSize":0,"playbackBarHeadShadowBlurRadius":2,"playbackBarBottom":5,"playbackBarRight":0,"playbackBarLeft":0,"playbackBarHeadHeight":14,"playbackBarHeadShadowColor":"#000000"},"buttonNext":{"iconURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAlCAMAAACAj7KHAAAAA3NCSVQICAjb4U/gAAAAS1BMVEX///8AAAAAAAAAAAAAAACVlZWLi4uDg4MAAAC8vLx8fHx5eXl2dnZ0dHRxcXHDw8PAwMBra2tjY2PY2NiLi4v7+/v5+fn////7+/sWSBTRAAAAGXRSTlMAESIzRFVVVVVmZmZmZmZ3d3d3mZnu7v//nfgMagAAAAlwSFlzAAAK6wAACusBgosNWgAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAAWdEVYdENyZWF0aW9uIFRpbWUAMDYvMjkvMTUTtAt+AAAAjElEQVQokbXTyRaAIAgFUJHmeTL7/y9Naie+Toti2T0R4suYH4qI0HNKGpGV0iYwuoLFlEzeu0YT2dqH2jtFZHN3UR9T6FamKQi3O6Q+STL2O4r6WR4QcTZfdIQjR6NzttxUaKk2Eb/qdql34HfgbPA8eAdwb3jXD/eD7xTnAGcH5g1n9CHXBv8Ln9UJhXMPrAhUbYMAAAAASUVORK5CYII=","height":37,"width":25},"width":"70%","buttonPrevious":{"iconURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAlCAMAAACAj7KHAAAAA3NCSVQICAjb4U/gAAAAS1BMVEX///8AAAAAAAAAAAAAAACVlZWLi4uDg4MAAAC8vLx8fHx5eXl2dnZ0dHRxcXHDw8PAwMBra2tjY2PY2NiLi4v7+/v5+fn////7+/sWSBTRAAAAGXRSTlMAESIzRFVVVVVmZmZmZmZ3d3d3mZnu7v//nfgMagAAAAlwSFlzAAAK6wAACusBgosNWgAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAAWdEVYdENyZWF0aW9uIFRpbWUAMDYvMjkvMTUTtAt+AAAAkElEQVQokbXSyRaDIAwFUALOQ7W2iP//pQK6CGheF55mmXuYwlPqn0VEUp/uzPd0qAuFvqnsdKEInXVuziTCsDpfraYcxgi25MKh5rsxWHvDhMMIIJWf8EpAeei2CO/CJK8kXR2w5ED6E8B9m0zkNegc8W7ye8AM5LmBWYP/AX8KcgCyA/IGMqrkXJ92239aO3W4D6yL2ECSAAAAAElFTkSuQmCC","height":37,"width":25}},"option":{"label":{"borderRadius":19,"backgroundOpacity":0.2,"fontFamily":"Arial","fontWeight":"bold","horizontalAlign":"center","width":38,"fontSize":18,"verticalAlign":"middle","height":38,"pressedBackgroundOpacity":1,"backgroundColor":"#000000","correct":{"borderRadius":19,"backgroundOpacity":1,"fontFamily":"Arial","fontWeight":"bold","horizontalAlign":"center","width":38,"fontSize":18,"verticalAlign":"middle","height":38,"pressedBackgroundOpacity":1,"backgroundColor":"#39b54a","fontColor":"#ffffff"},"fontColor":"#ffffff","incorrect":{"borderRadius":19,"backgroundOpacity":1,"fontFamily":"Arial","fontWeight":"bold","horizontalAlign":"center","width":38,"fontSize":18,"verticalAlign":"middle","height":38,"pressedBackgroundOpacity":1,"backgroundColor":"#ed1c24","fontColor":"#ffffff"}},"gap":10,"text":{"verticalAlign":"middle","paddingTop":9,"textAlign":"left","fontFamily":"Arial","fontSize":18,"selected":{"paddingTop":9,"fontColor":"#000000","fontFamily":"Arial","fontSize":18,"textAlign":"left"},"fontColor":"#404040"}},"closeButton":{"height":45,"iconHeight":18,"backgroundColor":"#009FE3","iconColor":"#FFFFFF","width":45,"iconWidth":18,"iconLineWidth":2},"title":{"paddingTop":25,"fontColor":"#000000","fontFamily":"Arial","fontSize":20,"paddingBottom":40,"textAlign":"center","paddingRight":50,"paddingLeft":50,"fontWeight":"bold"},"paddingBottom":20,"paddingLeft":20,"shadow":true}},"timeout":{"veil":{"backgroundOpacity":0.3,"backgroundColor":"#000000"},"window":{"shadowSpread":4,"shadowOpacity":0.3,"gap":15,"backgroundColor":"#ffffff","shadowColor":"#000000","horizontalAlign":"center","shadowBlurRadius":4,"paddingLeft":80,"icon":{"height":72,"url":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD0AAABGCAYAAAB/h5zrAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABhRJREFUeNrsW41y2jgQliVjGxMuhDR37/92l2uvhVIcjGtzuLO6aBRpdyVb9G4azWiABKH99n9XcibSj9V13geu6a7z7+scUhAkbwB6GbFmAVP8X0H/58Y76HfQ76DfQYeOLmLNGKq+pyIouxFzS3jNkZg9MucrvB8B96mIyW8EumV858L8XlLQC5DKqGqHSDX9WeMe6G+BdpZ6jwseDZsfIC0MBa6M7KqEzwr5/hlUu4P3MYzeXGdtfG6uc0eBtgGLQOAjqAo2nppKjnuejBkK2Ak8YwI2ifgTcVYrAJxi9ED80VOIrGH6xr/A8wDAvhBXwmZFYjtVsM8KgB8cAsOG1oCdCgCsw0pjMOAeprqhk8qA0bUV2jKGlo04lQLin5iJioJNxu9+uIF0qcSqhtcugPmLDNA//UppaA5c6lIW7RB+WtjHlYQooCUHOqqUKXJmqMrjzMA7cDinyLZPCV2XembMu8yykTmAn8GztjPa7grmVOmPIavJHBvontYooW0AEwYoGJqEIesh0HnuwPEWgKcTDm93MWz8An+rmNL9BK+pxgUYOjBp6g3QZ9PEFMHZLaP8HAn5bDApRHJ5hL13ILUlQZs0BPJmY994ZJSee1cVwxg1xPkV0HAKXD+Az6CAly5HKhGiCoaEj4wMSCIpofB4ZwkES0LinAOBe66kt8SGI/e+EJs9Qa5cA4FmJ6QytGgk+ptF0++gBePaF8R0BvjtmpFFdhjomviRnmHDo5TujFxAAvFmJ0UazsaU1p3hqDLY50zQY7akfBp3xDona0YYGBg2R33eIZHABQobB2DUApF2rcOpLekK1GqKHWtQujBpIX5zvXtvrD0ExP2OoF3q38oRB+PjKHc0ExKVmLW67PVhKLR9K4sTG4KQF8//1mCLF5GmXy3h97cgzbPHxHpC2j8cmrQ4gQ2fWq8AdAVEqZnBrsGbr+GzEnjvHOvhLW31LikOIZ7aLlf7GcDGFhlHRGMLG3RBxGVM7Ssmp+cAO0Am6BtUdVfmzMZaSzDk2WhIxNTOykhkqMLmM7FHTzRF8pyRgwtG9dQHqPRoDr8ZRPVMP7BnhkvBBZ0TMXeuCy+1w94UA8Au0GwwASw4B3jfGeUhR60lSNjWjoJwSntPo0MKf+MfZRBH0lg+q3vl48Z/EcALq8b9hEhf5+StpxgqjAzyo6fhQBbaMb2nylrPabS7HGPjcIwfEedZMJ0vCTrGZvsQlbL+X3pSX453PgY4WFS9Y1LHBkq/JdTDFGidOkqQ1h8Om+bk23tDC3z5Q8YBHfudY0AY0d3SjeEElaNg4IxTgClFSVoazmrq0N1M+9zpGNlrw6KK18xyZqG+EPM17/UBuz48THGtA5P0kDOzmIoAvQHn1CIdkSlZnB3ajkj+LQnQZ8n0hBVBTG20ZGqRZtRWORtD649wKZlFhUK4l4V4zgljQHpu3O5PZyclVMzzcffFsMsO6a5MHQfwBWfEhBSR1jYuqWwJ9XgWCW/yzTA2hKSf7R6ZzlmXRPjiHsHovtYCGBVy1lVBcZJDOOWsXQi8x3fWOUXuCCdYfatPHDjhyzzrLiG95MbYrQFeMSMC9ZxII5BC48BQIcnkPOZR9QMtFZEBcrLGFWHLPQW6IexWWXUxp9vSeACvxNsOamslLN8YzKWkfOCkaxfCoS0YHv8E9nhyaE9lVVqtxehGvF7j6Bg1fUaEqT0HdCdeL7BivS6sNWzeanDF9tqIuQeHs6Kcn76OQan/m1I1I36Uc6kOSwkphxXbQeXecDy4fBQmyYvg3e8ojIIkJCxdIkKZjiAPgnel80toCaYXSkEf+eTi9a5mqmcvJIC9Y6S6A/TgLjGgtZNRjH6U7qKUERUUJ8l5YPbE9L30XsS0VQJTPFfIakT8jcEF7LcU/MYl6yJ+aEUUCtwMX/oRBd+TOKVRMJQi/PST/chFTBlI3aD/GaOD0MQyqZiz5DPMStzuuS4qZO5CTCib6GA2It0zG5x2016EX7ybRVK3eobDtF3deo7q0M6pnqnBTwabsp+lxOsFODUDUDP0zTJSOyIFGqCfwssFfd+zN8Jbkmcv/xFgALaVsLLFsFFBAAAAAElFTkSuQmCC","width":62},"paddingTop":45,"shadowHorizontalLength":0,"buttonsContainer":{"horizontalAlign":"center","width":"100%","gap":10},"shadowVerticalLength":0,"title":{"paddingBottom":20,"fontFamily":"Arial","fontSize":40,"textAlign":"center","fontColor":"#000000","fontWeight":"bold"},"paddingBottom":55,"paddingRight":80,"shadow":true,"button":{"verticalAlign":"middle","paddingRight":25,"fontColor":"#ffffff","fontFamily":"Arial","fontWeight":"bold","fontSize":15,"paddingTop":12,"paddingBottom":12,"horizontalAlign":"center","paddingLeft":25,"backgroundColor":"#009fe3"}}},"score":{"veil":{"backgroundOpacity":0.3,"backgroundColor":"#000000"},"window":{"shadowSpread":4,"calification":{"verticalAlign":"middle","paddingBottom":10,"fontColor":"#009fe3","fontFamily":"Arial","fontSize":30,"paddingRight":100,"width":"100%","paddingTop":15,"textAlign":"center","paddingLeft":100,"fontWeight":"bold"},"paddingBottom":20,"shadowHorizontalLength":0,"backgroundColor":"#ffffff","timeContainer":{"verticalAlign":"middle","paddingTop":10,"horizontalAlign":"center","gap":5,"paddingRight":100,"paddingBottom":15,"paddingLeft":100,"width":"100%"},"buttonsContainer":{"verticalAlign":"middle","paddingTop":35,"paddingRight":100,"gap":8,"paddingBottom":50,"horizontalAlign":"center","paddingLeft":100,"width":"100%","button":{"verticalAlign":"middle","paddingRight":25,"fontColor":"#ffffff","fontFamily":"Arial","fontWeight":"bold","fontSize":15,"paddingTop":12,"paddingBottom":12,"horizontalAlign":"center","paddingLeft":25,"backgroundColor":"#009fe3"}},"shadowColor":"#000000","statsContainer":{"verticalAlign":"middle","paddingTop":15,"horizontalAlign":"center","gap":20,"paddingRight":100,"paddingBottom":15,"paddingLeft":100,"overflow":"scroll","contentOpaque":true},"stats":{"borderColor":"#009fe3","layout":"vertical","height":150,"label":{"fontColor":"#000000","fontFamily":"Arial","fontSize":15,"fontWeight":"normal"},"gap":0,"borderRadius":75,"title":{"paddingTop":10,"paddingRight":5,"fontFamily":"Arial","fontSize":20,"fontColor":"#000000","paddingLeft":5,"fontWeight":"normal"},"horizontalAlign":"center","mainValue":{"fontColor":"#000000","fontFamily":"Arial","fontSize":40,"fontWeight":"bold"},"minWidth":150,"borderSize":1,"verticalAlign":"middle","secondaryValue":{"paddingLeft":5,"fontColor":"#000000","fontFamily":"Arial","fontSize":20,"fontWeight":"bold"}},"paddingRight":20,"shadowBlurRadius":4,"description":{"paddingTop":15,"fontColor":"#000000","fontFamily":"Arial","fontSize":16,"paddingBottom":15,"textAlign":"center","paddingRight":100,"paddingLeft":100,"fontWeight":"normal"},"minWidth":500,"paddingTop":20,"horizontalAlign":"center","shadowOpacity":0.3,"content":{"horizontalAlign":"center","width":"100%"},"shadowVerticalLength":0,"title":{"paddingTop":50,"fontColor":"#000000","fontFamily":"Arial","fontSize":50,"paddingBottom":15,"textAlign":"center","fontWeight":"bold"},"maxWidth":1500,"paddingLeft":20,"shadow":true,"closeButton":{"height":45,"iconHeight":18,"backgroundColor":"#009fe3","iconColor":"#ffffff","width":45,"iconWidth":18,"iconLineWidth":2}}}};var lt=this['get']('data');var lu=lt['createQuizConfig']['call'](this);lF['call'](this,lu);lu['playList']=lp;lu['player']=this;lu['theme']='theme'in lu?this['mixObject'](ls,lu['theme']):ls;if(lu['questions']){lE['call'](this,lu['questions']);for(var lv=0x0;lv<lu['questions']['length'];++lv){var lw=lu['questions'][lv];lE['call'](this,lw['options']);}}if(lu['objectives']){lE['call'](this,lu['objectives']);}if(lu['califications']){lE['call'](this,lu['califications']);}if(lu['score']){this[lu['score']['id']]=lu['score'];}if(lu['question']){this[lu['question']['id']]=lu['question'];}if(lu['timeout']){this[lu['timeout']['id']]=lu['timeout'];}var lx=lu['data']&&lu['data']['titlesScale']?lu['data']['titlesScale']:0x1;var ly=lu['data']&&lu['data']['bodyScale']?lu['data']['bodyScale']:0x1;if(this['get']('isMobile')){var lz=this['mixObject'](lu['theme'],{'question':{'window':{'width':'100%','height':'100%','minWidth':undefined,'backgroundOpacity':0x1,'borderRadius':0x0,'paddingLeft':0x0,'paddingRight':0x0,'paddingBottom':0x0,'paddingTop':0x0,'verticalAlign':'middle','title':{'paddingBottom':0x19,'paddingTop':0x19},'bodyContainer':{'layout':'vertical','horizontalAlign':'center','paddingLeft':0x0,'paddingRight':0x0,'gap':0x14},'mediaContainer':{'width':'100%','height':'45%'},'optionsContainer':{'width':'100%','height':'55%','paddingLeft':0x14,'paddingRight':0x14}}},'score':{'window':{'description':{'paddingLeft':0xa,'paddingRight':0xa},'calification':{'fontSize':0x14*ly,'paddingLeft':0xa,'paddingRight':0xa}}}});lu['theme']=lz;}var lA=document['getElementById']('metaViewport');var lB=lA?/initial-scale=(\d+(\.\d+)?)/['exec'](lA['getAttribute']('content')):undefined;var lC=lB?lB[0x1]:0x1;lt['scorePortraitConfig']={'theme':{'window':{'minWidth':0xfa/lC,'maxHeight':0x258/lC,'content':{'height':'100%'},'statsContainer':{'layout':'vertical','horizontalAlign':'center','maxHeight':0x258,'paddingLeft':0x0,'paddingRight':0x0,'width':'100%','height':'100%'},'buttonsContainer':{'paddingLeft':0xa,'paddingRight':0xa,'button':{'paddingLeft':0xf,'paddingRight':0xf}}}}};lt['scoreLandscapeConfig']={'theme':{'window':{'title':{'fontSize':0x1e*lx,'paddingTop':0xa},'stats':{'height':0x64},'buttonsContainer':{'paddingBottom':0x14,'paddingTop':0xa},'description':{'paddingBottom':0x5,'paddingTop':0x5}}}};var lD=new TDV['Quiz'](lu);lD['setMaxListeners'](0x32);if(lr===!![]){lD['bind'](TDV['Quiz']['EVENT_PROPERTIES_CHANGE'],function(){if((lD['get'](TDV['Quiz']['PROPERTY']['QUESTIONS_ANSWERED'])+lD['get'](TDV['Quiz']['PROPERTY']['ITEMS_FOUND']))/(lD['get'](TDV['Quiz']['PROPERTY']['QUESTION_COUNT'])+lD['get'](TDV['Quiz']['PROPERTY']['ITEM_COUNT']))==0x1)setTimeout(function(){lD['finish']();},0x0);}['bind'](this));}if(lq===!![]){lD['start']();}lt['quiz']=lD;lt['quizConfig']=lu;function lE(lG){for(var lH=0x0;lH<lG['length'];++lH){var lI=lG[lH];if('id'in lI)this[lI['id']]=lI;}}function lF(lJ){for(var lK in lJ){var lL=lJ[lK];if(typeof lL=='object'&&lL!==null)lF['call'](this,lL);else if(typeof lL=='string'&&lL['startsWith']('this.'))lJ[lK]=_getObject(this,lL);}}};TDV['Tour']['Script']['getQuizTotalObjectiveProperty']=function(lM){var lN=this['get']('data')['quiz'];var lO=this['get']('data')['quizConfig'];var lP=lO['objectives'];var lQ=0x0;for(var lR=0x0,lS=lP['length'];lR<lS;++lR){var lT=lP[lR];lQ+=lN['getObjective'](lT['id'],lM);}return lQ;};TDV['Tour']['Script']['_initSplitViewer']=function(lU){function lV(){var mg=lU['get']('actualWidth');m6['get']('children')[0x0]['set']('width',mg);m7['get']('children')[0x0]['set']('width',mg);var mh=ma['get']('left');var mi=typeof mh=='string'?lW(mh):mh;mi+=ma['get']('actualWidth')*0.5;m6['set']('width',lX(mi));m7['set']('width',lX(mg-mi));}function lW(mj){return parseFloat(mj['replace']('%',''))/0x64*lU['get']('actualWidth');}function lX(mk){return mk/lU['get']('actualWidth')*0x64+'%';}function lY(ml){lZ(ml['source']);}function lZ(mm){var mn=mm==mc?mb:mc;if(md&&mm!=md||!mm||!mn)return;var mo=mn['get']('camera')['get']('initialPosition')['get']('yaw')-mm['get']('camera')['get']('initialPosition')['get']('yaw');mn['setPosition'](mm['get']('yaw')+mo,mm['get']('pitch'),mm['get']('roll'),mm['get']('hfov'));}function m0(mp){md=mp['source'];}function m1(mq){m2(mq['source']);}function m2(mr){var ms=mr['get']('viewerArea');if(ms==m8){if(mb){mb['get']('camera')['set']('hoverFactor',me);}mb=mr;md=mb;if(mb){me=mb['get']('camera')['get']('hoverFactor');mb['get']('camera')['set']('hoverFactor',0x0);}}else if(ms==m9){if(mc){mc['get']('camera')['set']('hoverFactor',mf);}mc=mr;md=mb;if(mc){mf=mc['get']('camera')['get']('hoverFactor');mc['get']('camera')['set']('hoverFactor',0x0);}}lZ(mr);}function m3(mt){var mu=this['getCurrentPlayers']();var mv=mu['length'];while(mv-->0x0){var mx=mu[mv];if(mx['get']('viewerArea')!=mt){mu['splice'](mv,0x1);}}for(mv=0x0;mv<mu['length'];++mv){var mx=mu[mv];mx['bind']('preloadMediaShow',m1,this);mx['bind']('cameraPositionChange',lY,this);mx['bind']('userInteractionStart',m0,this);if(mx['get']('panorama'))m2(mx);}return mu;}function m4(my){m2(this['getActivePlayerWithViewer'](my['source']));lZ(md);}var m5=lU['get']('children');var m6=m5[0x0];var m7=m5[0x1];var m8=m6['get']('children')[0x0];var m9=m7['get']('children')[0x0];var ma=m5[0x2];var mb,mc,md;var me,mf;m3['call'](this,m8);m3['call'](this,m9);m8['bind']('mouseDown',m4,this);m9['bind']('mouseDown',m4,this);lU['bind']('resize',function(){ma['set']('left',(lU['get']('actualWidth')-ma['get']('actualWidth'))*0.5);lV();},this);ma['bind']('mouseDown',function(mz){var mA=mz['pageX'];var mB=function(mC){var mD=mC['pageX'];var mE=mA-mD;var mF=lU['get']('actualWidth');var mG=ma['get']('left');var mH=(typeof mG=='string'?lW(mG):mG)-mE;if(mH<0x0){mD-=mH;mH=0x0;}else if(mH+ma['get']('actualWidth')>=mF){mD-=mH-(mF-ma['get']('actualWidth'));mH=mF-ma['get']('actualWidth');}ma['set']('left',mH);lV();mA=mD;};this['bind']('mouseMove',mB,this);this['bind']('mouseUp',function(){this['unbind']('mouseMove',mB,this);},this);},this);lV();};TDV['Tour']['Script']['_initTwinsViewer']=function(mI){function mJ(){var n4=mI['get']('actualWidth');mU['get']('children')[0x0]['set']('width',n4);mV['get']('children')[0x0]['set']('width',n4);var n5=mY['get']('left');var n6=typeof n5=='string'?mK(n5):n5;n6+=mY['get']('actualWidth')*0.5;mU['set']('width',mL(n6));mV['set']('width',mL(n4-n6));}function mK(n7){return parseFloat(n7['replace']('%',''))/0x64*mI['get']('actualWidth');}function mL(n8){return n8/mI['get']('actualWidth')*0x64+'%';}function mM(n9){mN(n9['source']);}function mN(na){var nb=na==n0?mZ:n0;if(n1&&na!=n1||!na||!nb)return;var nc=nb['get']('camera')['get']('initialPosition')['get']('yaw')-na['get']('camera')['get']('initialPosition')['get']('yaw');nb['setPosition'](na['get']('yaw')+nc,na['get']('pitch'),na['get']('roll'),na['get']('hfov'));}function mO(nd){n1=nd['source'];}function mP(ne){mQ(ne['source']);}function mQ(nf){var ng=nf['get']('viewerArea');if(ng==mW){if(mZ){mZ['get']('camera')['set']('hoverFactor',n2);}mZ=nf;n1=mZ;if(mZ){n2=mZ['get']('camera')['get']('hoverFactor');mZ['get']('camera')['set']('hoverFactor',0x0);}}else if(ng==mX){if(n0){n0['get']('camera')['set']('hoverFactor',n3);}n0=nf;n1=mZ;if(n0){n3=n0['get']('camera')['get']('hoverFactor');n0['get']('camera')['set']('hoverFactor',0x0);}}mN(nf);}function mR(nh){var ni=this['getCurrentPlayers']();var nj=ni['length'];while(nj-->0x0){var nl=ni[nj];if(nl['get']('viewerArea')!=nh){ni['splice'](nj,0x1);}}for(nj=0x0;nj<ni['length'];++nj){var nl=ni[nj];nl['bind']('preloadMediaShow',mP,this);nl['bind']('cameraPositionChange',mM,this);nl['bind']('userInteractionStart',mO,this);if(nl['get']('panorama'))mQ(nl);}return ni;}function mS(nm){mQ(this['getActivePlayerWithViewer'](nm['source']));mN(n1);}var mT=mI['get']('children');var mU=mT[0x0];var mV=mT[0x1];var mW=mU['get']('children')[0x0];var mX=mV['get']('children')[0x0];var mY=mT[0x2];var mZ,n0,n1;var n2,n3;mR['call'](this,mW);mR['call'](this,mX);mW['bind']('mouseDown',mS,this);mX['bind']('mouseDown',mS,this);mI['bind']('resize',function(){mY['set']('left',(mI['get']('actualWidth')-mY['get']('actualWidth'))*0.5);mJ();},this);mJ();};TDV['Tour']['Script']['isCardboardViewMode']=function(){var nn=this['getByClassName']('PanoramaPlayer');return nn['length']>0x0&&nn[0x0]['get']('viewMode')=='cardboard';};TDV['Tour']['Script']['isPanorama']=function(no){return['Panorama','HDRPanorama','LivePanorama','Video360','VideoPanorama']['indexOf'](no['get']('class'))!=-0x1;};TDV['Tour']['Script']['keepCompVisible']=function(np,nq){var nr='keepVisibility_'+np['get']('id');var ns=this['getKey'](nr);if(ns==undefined&&nq){this['registerKey'](nr,nq);}else if(ns!=undefined&&!nq){this['unregisterKey'](nr);}};TDV['Tour']['Script']['_initItemWithComps']=function(nt,nu,nv,nw,nx,ny,nz,nA){var nB=nt['get']('items')[nu];var nC=nB['get']('media');var nD=nC['get']('loop')==undefined||nC['get']('loop');var nE=nA>0x0;var nF=this['rootPlayer'];var nG=function(nO){var nP=ny?ny['get']('class'):undefined;var nQ=undefined;switch(nP){case'FadeInEffect':case'FadeOutEffect':nQ=nF['createInstance'](nO?'FadeInEffect':'FadeOutEffect');break;case'SlideInEffect':case'SlideOutEffect':nQ=nF['createInstance'](nO?'SlideInEffect':'SlideOutEffect');break;}if(nQ){nQ['set']('duration',ny['get']('duration'));nQ['set']('easing',ny['get']('easing'));if(nP['indexOf']('Slide')!=-0x1)nQ['set'](nO?'from':'to',ny['get'](ny['get']('class')=='SlideInEffect'?'from':'to'));}return nQ;};var nH=function(){for(var nR=0x0,nS=nv['length'];nR<nS;++nR){var nT=nv[nR];if(nA>0x0){this['setComponentVisibility'](nT,!nx,0x0,nG(!nx));}else{var nU='visibility_'+nT['get']('id');if(this['existsKey'](nU)){if(this['getKey'](nU))this['setComponentVisibility'](nT,!![],0x0,nG(!![]));else this['setComponentVisibility'](nT,![],0x0,nG(![]));this['unregisterKey'](nU);}}}nB['unbind']('end',nH,this);if(!nD)nC['unbind']('end',nH,this);};var nI=function(){nB['unbind']('stop',nI,this,!![]);nB['unbind']('stop',nI,this);nB['unbind']('begin',nI,this,!![]);nB['unbind']('begin',nI,this);for(var nV=0x0,nW=nv['length'];nV<nW;++nV){this['keepCompVisible'](nv[nV],![]);}};var nJ=function(nX,nY,nZ){var o0=function(){var o1=function(o5,o6,o7){nF['setComponentVisibility'](o5,o6,nY,o7,o6?'showEffect':'hideEffect',![]);if(nZ>0x0){var o8=nY+nZ+(o7!=undefined?o7['get']('duration'):0x0);nF['setComponentVisibility'](o5,!o6,o8,nG(!o6),o6?'hideEffect':'showEffect',!![]);}};for(var o2=0x0,o3=nv['length'];o2<o3;++o2){var o4=nv[o2];if(nx=='toggle'){if(!o4['get']('visible'))o1(o4,!![],nG(!![]));else o1(o4,![],nG(![]));}else{o1(o4,nx,nG(nx));}}nB['unbind'](nX,o0,this);if(nX=='end'&&!nD)nC['unbind'](nX,o0,this);};nB['bind'](nX,o0,this);if(nX=='end'&&!nD)nC['bind'](nX,o0,this);};if(nw=='begin'){for(var nK=0x0,nL=nv['length'];nK<nL;++nK){var nM=nv[nK];this['keepCompVisible'](nM,!![]);if(nE){var nN='visibility_'+nM['get']('id');this['registerKey'](nN,nM['get']('visible'));}}nB['bind']('stop',nI,this,!![]);nB['bind']('stop',nI,this);nB['bind']('begin',nI,this,!![]);nB['bind']('begin',nI,this);if(nE){nB['bind']('end',nH,this);if(!nD)nC['bind']('end',nH,this);}}else if(nw=='end'&&nA>0x0){nJ('begin',nA,0x0);nA=0x0;}if(nw!=undefined)nJ(nw,nz,nA);};TDV['Tour']['Script']['loadFromCurrentMediaPlayList']=function(o9,oa,ob){var oc=o9['get']('selectedIndex');var od=o9['get']('items')['length'];var oe=(oc+oa)%od;while(oe<0x0){oe=od+oe;}if(oc!=oe){if(ob){var of=o9['get']('items')[oe];this['skip3DTransitionOnce'](of['get']('player'));}o9['set']('selectedIndex',oe);}};TDV['Tour']['Script']['mixObject']=function(og,oh){return this['assignObjRecursively'](oh,this['copyObjRecursively'](og));};TDV['Tour']['Script']['downloadFile']=function(oi){if((navigator['userAgent']['toLowerCase']()['indexOf']('chrome')>-0x1||navigator['userAgent']['toLowerCase']()['indexOf']('safari')>-0x1)&&!/(iP)/g['test'](navigator['userAgent'])){var oj=document['createElement']('a');oj['href']=oi;oj['setAttribute']('target','_blank');if(oj['download']!==undefined){var ok=oi['substring'](oi['lastIndexOf']('/')+0x1,oi['length']);oj['download']=ok;}if(document['createEvent']){var ol=document['createEvent']('MouseEvents');ol['initEvent']('click',!![],!![]);oj['dispatchEvent'](ol);return;}}window['open'](oi,'_blank');};TDV['Tour']['Script']['openLink']=function(om,on){if(!om||om==location['href']){return;}if(!on)on='_blank';if(on=='_top'||on=='_self'){this['updateDeepLink']({'includeCurrentView':!![],'includeCurrentVisibleHotspots':!![],'includeCurrentMeasureModel3DObjects':!![],'setHash':!![]});}var oo=window&&window['process']&&window['process']['versions']&&window['process']['versions']['electron']||navigator&&navigator['userAgent']&&navigator['userAgent']['indexOf']('Electron')>=0x0;if(oo&&on=='_blank'){if(om['startsWith']('files/')){om='/'+om;}if(om['startsWith']('//')){om='https:'+om;}else if(om['startsWith']('/')){var op=window['location']['href']['split']('/');op['pop']();om=op['join']('/')+om;}var oq=om['split']('.')['pop']()['toLowerCase']();if((['pdf','zip','xls','xlsx']['indexOf'](oq)==-0x1||om['startsWith']('file://'))&&window['hasOwnProperty']('require')){var or=window['require']('electron')['shell'];or['openExternal'](om);}else{window['open'](om,on);}}else if(oo&&(on=='_top'||on=='_self')){window['location']=om;}else{var os=this['get']('data')['tour'];if(os['isMobileApp']()&&os['isIOS']())om='blank:'+om;var ot=window['open'](om,on);ot['focus']();}};TDV['Tour']['Script']['startPanoramaWithModel']=function(ou,ov){var ow=ou['get']('media');var ox=_findLocationWithPanorama['call'](this,ow);if(!ox){ov['call'](this);return;}var oy=ox['get']('model');var oz=ou['get']('player')['get']('viewerArea');var oB=this['getActivePlayersWithViewer'](oz);var oD=oB['length']==0x1?oB['find'](function(oK){return this['getMediaFromPlayer'](oK)==oy;}['bind'](this)):undefined;if(oD){ov['call'](this);}else{var oB=_getPlayersWithViewer['call'](this,oz);var oD=oB['find'](function(oL){return oL['get']('class')=='Model3DPlayer';});var oE,oF;if(!oD){oD=this['createInstance']('Model3DPlayer');oD['set']('viewerArea',oz);}else{var oG=this['getByClassName']('Model3DPlayListItem');oE=oG['find'](function(oM){return oM['get']('player')==oD;}['bind'](this));}if(!oE){oE=this['createInstance']('Model3DPlayListItem');oE['set']('player',oD);_initModel3DItem['call'](this,oE);}oE['set']('media',oy);var oH=ox['get']('forceModelLoading');ox['set']('forceModelLoading',!![]);var oI=function(){oE['unbind']('begin',oI,this);ov['call'](this);};var oJ=function(){ou['unbind']('begin',oJ,this);ox['set']('forceModelLoading',oH);if(oF)this['disposeInstance'](oF);};ou['bind']('begin',oJ,this);if(oE['get']('state')=='playing')oI['call'](this);else{oE['bind']('begin',oI,this);oF=this['createInstance']('PlayList');oF['set']('items',[oE]);oF['set']('selectedIndex',0x0);}}};TDV['Tour']['Script']['pauseCurrentPlayers']=function(oN){var oO=this['getCurrentPlayers']();var oP=oO['length'];while(oP-->0x0){var oQ=oO[oP];if(oQ['get']('state')=='playing'||oQ['get']('data')&&oQ['get']('data')['playing']||oQ['get']('viewerArea')&&oQ['get']('viewerArea')['get']('id')==this['getMainViewer']()||oQ['get']('camera')&&oQ['get']('camera')['get']('idleSequence')&&oQ['get']('camera')['get']('timeToIdle')>0x0&&oQ['get']('state')=='playing'||oQ['get']('class')=='Model3DPlayer'&&oQ['get']('model')&&oQ['get']('model')['get']('camera')['get']('state')=='playing'){var oR=this['getMediaFromPlayer'](oQ);if(oN&&oR&&oR['get']('class')!='Video360'&&'pauseCamera'in oQ){oQ['pauseCamera']();}else{oQ['pause']();}}else{oO['splice'](oP,0x1);}}return oO;};TDV['Tour']['Script']['pauseGlobalAudiosWhilePlayItem']=function(oS,oT,oU){var oV=function(){if(oS['get']('selectedIndex')!=oT){this['resumeGlobalAudios']();}};this['pauseGlobalAudios'](oU,!![]);this['executeFunctionWhenChange'](oS,oT,oV,oV);};TDV['Tour']['Script']['pauseGlobalAudios']=function(oW,oX){this['stopTextToSpeech']();if(window['pausedAudiosLIFO']==undefined)window['pausedAudiosLIFO']=[];var oY=this['getByClassName']('VideoPanoramaOverlay');oY=oY['concat'](this['getByClassName']('QuadVideoPanoramaOverlay'));for(var p0=oY['length']-0x1;p0>=0x0;--p0){var p1=oY[p0];if(p1['get']('video')['get']('hasAudio')==![])oY['splice'](p0,0x1);}var p2=this['getByClassName']('Audio')['concat'](oY);var p3={};if(window['currentGlobalAudios']!=undefined)p2=p2['concat'](Object['values'](window['currentGlobalAudios'])['map'](function(p7){if(!p7['allowResume'])p3[p7['audio']['get']('id')]=p7['audio'];return p7['audio'];}));var p4=[];for(var p0=0x0,p5=p2['length'];p0<p5;++p0){var p6=p2[p0];if(p6&&p6['get']('state')=='playing'&&(oW==undefined||oW['indexOf'](p6)==-0x1)){if(p6['get']('id')in p3){p6['stop']();}else{p6['pause']();p4['push'](p6);}}}if(oX||p4['length']>0x0)window['pausedAudiosLIFO']['push'](p4);return p4;};TDV['Tour']['Script']['resumeGlobalAudios']=function(){if(window['pausedAudiosLIFO']==undefined)return;if(window['resumeAudiosBlocked']){if(window['pausedAudiosLIFO']['length']>0x1){window['pausedAudiosLIFO'][window['pausedAudiosLIFO']['length']-0x2]=window['pausedAudiosLIFO'][window['pausedAudiosLIFO']['length']-0x2]['concat'](window['pausedAudiosLIFO'][window['pausedAudiosLIFO']['length']-0x1]);window['pausedAudiosLIFO']['splice'](window['pausedAudiosLIFO']['length']-0x1,0x1);}return;}var p8=window['pausedAudiosLIFO']['pop']();if(!p8)return;for(var p9=0x0,pa=p8['length'];p9<pa;++p9){var pb=p8[p9];if(pb['get']('state')=='paused')pb['play']();}};TDV['Tour']['Script']['pauseGlobalAudio']=function(pc){var pd=window['currentGlobalAudios'];if(pd){var pe=pd[pc['get']('id')];if(pe)pc=pe['audio'];}if(pc['get']('state')=='playing')pc['pause']();};TDV['Tour']['Script']['playAudioList']=function(pf,pg){if(pf['length']==0x0)return;if(pf['length']==0x1&&pg){var ph=pf[0x0];ph['set']('loop',!![]);this['playGlobalAudio'](ph,!![],null,!![]);}else{var pi=-0x1;var pj;var pk=this['playGlobalAudio'];var pl=function(){if(++pi>=pf['length']){if(!pg)return;pi=0x0;}pj=pf[pi];pk(pj,!![],pl,!![]);};pl();}};TDV['Tour']['Script']['playGlobalAudioWhilePlayActiveMedia']=function(pm,pn,po,pp){var pq=this['getActiveMediaWithViewer'](this['getMainViewer']());var pr=this['getFirstPlayListWithMedia'](pq,!![]);var ps=this['getPlayListItemByMedia'](pr,pq);var pt=pr['get']('items')['indexOf'](ps);return this['playGlobalAudioWhilePlay'](pr,pt,pm,pn,po,pp);};TDV['Tour']['Script']['playGlobalAudioWhilePlay']=function(pu,pv,pw,px,py,pz){var pA=function(pJ){if(pJ['data']['previousSelectedIndex']==pv){this['stopGlobalAudio'](pw);if(pE){var pK=pD['get']('media');var pL=pK['get']('audios');pL['splice'](pL['indexOf'](pw),0x1);pK['set']('audios',pL);}pu['unbind']('change',pA,this);if(py)py();}};var pC=window['currentGlobalAudios'];if(pC&&pw['get']('id')in pC){pw=pC[pw['get']('id')]['audio'];if(pw['get']('state')!='playing'){pw['play']();}return pw;}pu['bind']('change',pA,this);var pD=pu['get']('items')[pv];var pE=pD['get']('class')=='PanoramaPlayListItem';if(pE){var pF=pD['get']('media');var pC=(pF['get']('audios')||[])['slice']();if(pw['get']('class')=='MediaAudio'){var pG=this['rootPlayer']['createInstance']('PanoramaAudio');pG['set']('autoplay',![]);pG['set']('audio',pw['get']('audio'));pG['set']('loop',pw['get']('loop'));pG['set']('id',pw['get']('id'));this['cloneBindings'](pw,pG,'start');this['cloneBindings'](pw,pG,'end');this['cloneBindings'](pw,pG,'stateChange');pw=pG;}pC['push'](pw);pF['set']('audios',pC);}var pH=this['playGlobalAudio'](pw,px,function(){pu['unbind']('change',pA,this);if(py)py['call'](this);});if(pz===!![]){var pI=function(){if(pH['get']('state')=='playing'){this['pauseGlobalAudios']([pH],!![]);}else if(pH['get']('state')=='stopped'){this['resumeGlobalAudios']();pH['unbind']('stateChange',pI,this);}};pH['bind']('stateChange',pI,this);}return pH;};TDV['Tour']['Script']['playGlobalAudio']=function(pM,pN,pO,pP){var pQ=function(){pM['unbind']('end',pQ,this);this['stopGlobalAudio'](pM);if(pO)pO['call'](this);};pM=this['getGlobalAudio'](pM);var pR=window['currentGlobalAudios'];if(!pR){pR=window['currentGlobalAudios']={};}pR[pM['get']('id')]={'audio':pM,'asBackground':pP||![],'allowResume':pN};if(pM['get']('state')=='playing'){return pM;}if(!pM['get']('loop')){pM['bind']('end',pQ,this);}pM['play']();return pM;};TDV['Tour']['Script']['restartTourWithoutInteraction']=function(pS){var pT=-0x1;this['bind']('userInteraction',pU['bind'](this),this);pU();function pU(){if(pT!=-0x1)clearTimeout(pT);pT=setTimeout(function(){var pV=this['get']('data')['tour'];if(pV){if(this['isCardboardViewMode']())location['reload']();else pV['reload']();}}['bind'](this),pS*0x3e8);}};TDV['Tour']['Script']['resumePlayers']=function(pW,pX){for(var pY=0x0;pY<pW['length'];++pY){var pZ=pW[pY];var q0=this['getMediaFromPlayer'](pZ);if(!q0)continue;if(pX&&q0['get']('class')!='Video360'&&'pauseCamera'in pZ){pZ['resumeCamera']();}else if(pZ['get']('state')!='playing'){var q1=pZ['get']('data');if(!q1){q1={};pZ['set']('data',q1);}q1['playing']=!![];var q2=function(){if(pZ['get']('state')=='playing'){delete q1['playing'];pZ['unbind']('stateChange',q2,this);}};pZ['bind']('stateChange',q2,this);pZ['play']();}}};TDV['Tour']['Script']['stopGlobalAudios']=function(q3){var q4=window['currentGlobalAudios'];var q5=this;if(q4){Object['keys'](q4)['forEach'](function(q6){var q7=q4[q6];if(!q3||q3&&!q7['asBackground']){q5['stopGlobalAudio'](q7['audio']);}});}};TDV['Tour']['Script']['stopGlobalAudio']=function(q8){var q9=window['currentGlobalAudios'];if(q9){var qa=q9[q8['get']('id')];if(qa){q8=qa['audio'];delete q9[q8['get']('id')];if(Object['keys'](q9)['length']==0x0){window['currentGlobalAudios']=undefined;}}}if(q8)q8['stop']();};TDV['Tour']['Script']['setCameraSameSpotAsMedia']=function(qb,qc){var qd=this['getCurrentPlayerWithMedia'](qc);if(qd!=undefined){var qe=qb['get']('initialPosition');qe['set']('yaw',qd['get']('yaw'));qe['set']('pitch',qd['get']('pitch'));qe['set']('hfov',qd['get']('hfov'));}};TDV['Tour']['Script']['setComponentVisibility']=function(qf,qg,qh,qi,qj,qk){var ql=this['getKey']('keepVisibility_'+qf['get']('id'));if(ql)return;this['unregisterKey']('visibility_'+qf['get']('id'));var qm=function(){if(qj){qf['set'](qj,qi);}qf['set']('visible',qg);if(qf['get']('class')=='ViewerArea'){try{if(qg)qf['restart']();else if(qf['get']('playbackState')=='playing')qf['pause']();}catch(qr){};}};var qn='effectTimeout_'+qf['get']('id');if(!qk&&window['hasOwnProperty'](qn)){var qp=window[qn];if(qp instanceof Array){for(var qq=0x0;qq<qp['length'];qq++){clearTimeout(qp[qq]);}}else{clearTimeout(qp);}delete window[qn];}else if(qg==qf['get']('visible')&&!qk)return;if(qh&&qh>0x0){var qp=setTimeout(function(){if(window[qn]instanceof Array){var qs=window[qn];var qt=qs['indexOf'](qp);qs['splice'](qt,0x1);if(qs['length']==0x0){delete window[qn];}}else{delete window[qn];}qm();},qh);if(window['hasOwnProperty'](qn)){window[qn]=[window[qn],qp];}else{window[qn]=qp;}}else{qm();}};TDV['Tour']['Script']['setDirectionalPanoramaAudio']=function(qu,qv,qw,qx){qu['set']('yaw',qv);qu['set']('pitch',qw);qu['set']('maximumAngle',qx);};TDV['Tour']['Script']['setLocale']=function(qy){this['stopTextToSpeech']();var qz=this['get']('data')['localeManager'];if(qz)this['get']('data')['localeManager']['setLocale'](qy);else{this['get']('data')['defaultLocale']=qy;this['get']('data')['forceDefaultLocale']=!![];}};TDV['Tour']['Script']['setEndToItemIndex']=function(qA,qB,qC){var qD=function(){if(qA['get']('selectedIndex')==qB){var qE=qA['get']('items')[qC];this['skip3DTransitionOnce'](qE['get']('player'));qA['set']('selectedIndex',qC);}};this['executeFunctionWhenChange'](qA,qB,qD);};TDV['Tour']['Script']['setMapLocation']=function(qF,qG){var qH=function(){qF['unbind']('stop',qH,this);qI['set']('mapPlayer',null);};qF['bind']('stop',qH,this);var qI=qF['get']('player');qI['set']('mapPlayer',qG);};TDV['Tour']['Script']['setMainMediaByIndex']=function(qJ){var qK=undefined;if(qJ>=0x0&&qJ<this['mainPlayList']['get']('items')['length']){qK=this['mainPlayList']['get']('items')[qJ];var qL=qK['get']('media');var qM=qL['get']('class')['indexOf']('Panorama')!=-0x1?_findLocationWithPanorama['call'](this,qL):null;if(qM){this['startPanoramaWithModel']['call'](this,qK,function(){this['mainPlayList']['set']('selectedIndex',qJ);}['bind'](this));}else{this['mainPlayList']['set']('selectedIndex',qJ);}}return qK;};TDV['Tour']['Script']['setMainMediaByName']=function(qN){var qO=this['getMainViewer']();var qP=this['_getPlayListsWithViewer'](qO);for(var qQ=0x0,qR=qP['length'];qQ<qR;++qQ){var qS=qP[qQ];var qT=qS['get']('items');for(var qU=0x0,qV=qT['length'];qU<qV;++qU){var qW=qT[qU];var qX=qW['get']('media')['get']('data');if(qX!==undefined&&qX['label']==qN&&qW['get']('player')['get']('viewerArea')==qO){qS['set']('selectedIndex',qU);return qW;}}}};TDV['Tour']['Script']['executeAudioAction']=function(qY,qZ,r0,r1,r2,r3){if(qY['length']==0x0)return;var r4,r5;var r6=this['getMainViewer']();if(r0&&!(r0===!![])){var r7=this['getPlayListsWithMedia'](r0);for(var r8=0x0;r8<r7['length'];++r8){var r9=r7[r8];var rb=this['getPlayListItemByMedia'](r9,r0);if(rb&&rb['get']('player')&&rb['get']('player')['get']('viewerArea')==r6){r4=r9;r5=r4['get']('items')['indexOf'](rb);break;}}if(!r4&&r7['length']>0x0){r4=r7[0x0];r5=this['getPlayListItemIndexByMedia'](r4,r0);}if(!r4)r0=!![];}if(r0===!![]){var rc=this['getActiveMediaWithViewer'](r6);if(rc){r4=this['getFirstPlayListWithMedia'](rc,!![]);var rb=this['getPlayListItemByMedia'](r4,rc);r5=r4['get']('items')['indexOf'](rb);}else{r0=null;}}var rd=[];var re=function(){var rm=rd['concat']();var rn=![];var ro=function(rr){var rs=rr['source']['get']('state');if(rs=='playing'){if(!rn){rn=!![];this['pauseGlobalAudios'](rd,!![]);}}else if(rs=='stopped'){rm['splice'](rm['indexOf'](rr['source']),0x1);if(rm['length']==0x0){this['resumeGlobalAudios']();}rr['source']['unbind']('stateChange',ro,this);}}['bind'](this);for(var rp=0x0,rq=rd['length'];rp<rq;++rp){rd[rp]['bind']('stateChange',ro,this);}}['bind'](this);var rf=function(){for(var rt=0x0,ru=qY['length'];rt<ru;++rt){var rv=qY[rt];rd['push'](this['playGlobalAudio'](rv,r1));}if(r2)re();}['bind'](this);var rg=function(){for(var rw=0x0,rx=qY['length'];rw<rx;++rw){var ry=qY[rw];rd['push'](this['playGlobalAudioWhilePlay'](r4,r5,ry,r1));}if(r2)re();}['bind'](this);var rh=function(){for(var rz=0x0,rA=qY['length'];rz<rA;++rz){this['pauseGlobalAudio'](qY[rz]);}}['bind'](this);var ri=function(){for(var rB=0x0,rC=qY['length'];rB<rC;++rB){this['stopGlobalAudio'](qY[rB]);}}['bind'](this);var rj=function(){for(var rD=0x0,rE=qY['length'];rD<rE;++rD){if(this['getGlobalAudio'](qY[rD])['get']('state')=='playing')return!![];}return![];}['bind'](this);if(qZ=='playPause'||qZ=='playStop'){if(rj()){if(qZ=='playPause'){rh();}else if(qZ=='playStop'){ri();}}else{if(r2){if(qZ=='playStop'){this['stopGlobalAudios'](!![]);}}if(r4){rg();}else{rf();}}}else if(qZ=='play'||qZ=='forcePlay'){if(qZ=='forcePlay')ri();if(r4||r0===!![]){if(r3){var rk=r4?r4['get']('items')[r5]['get']('player'):this['getActivePlayerWithViewer'](this['getMainViewer']());if(rk&&rk['pauseCamera']){var rl=qY['concat']();endCallback=function(rF){rl['splice'](rl['indexOf'](rF),0x1);if(rl['length']==0x0)rk['resumeCamera']();}['bind'](this);rk['pauseCamera']();}}rg();}else{rf();}}else if(qZ=='stop'){ri();}else if(qZ=='pause'){rh();}};TDV['Tour']['Script']['executeAudioActionByTags']=function(rG,rH,rI,rJ,rK,rL,rM){var rN=this['getAudioByTags'](rG,rH);this['executeAudioAction'](rN,rI,rJ,rK,rL,rM);};TDV['Tour']['Script']['setPlayListSelectedIndex']=function(rO,rP){var rQ=rO['get']('items')[rP];var rR=rQ['get']('player');var rS=rR['get']('viewerArea');var rT=this['getByClassName']('PlayList');for(var rU of rT){if(rU==rO)continue;var rV=rU['get']('selectedIndex');if(rV!=-0x1){var rW=rU['get']('items')[rV];var rX=rW['get']('player');if(rX&&rX!=rR&&rX['get']('class')!='Model3DPlayer'&&rX['get']('viewerArea')==rS)rU['set']('selectedIndex',-0x1);}}rO['set']('selectedIndex',rP);};TDV['Tour']['Script']['setMediaBehaviour']=function(rY,rZ,s0,s1){var s2=this;var s3=function(sq){if(sq['data']['state']=='stopped'&&s1){s7['call'](this,!![]);}};var s4=function(){sd['unbind']('begin',s4,s2);var sr=sd['get']('media');var ss=sr['get']('class');if(ss!='Panorama'&&ss!='Model3D'||sr['get']('camera')!=undefined&&sr['get']('camera')['get']('initialSequence')!=undefined){se['bind']('stateChange',s3,s2);}};var s5=function(){var st=sa['get']('selectedIndex');if(st!=-0x1){sc=st;s7['call'](this,![]);}};var s6=function(){s7['call'](this,![]);};var s7=function(su){if(!sa)return;var sv=sd['get']('media');if((sv['get']('class')=='Video360'||sv['get']('class')=='Video')&&sv['get']('loop')==!![]&&!su)return;rY['set']('selectedIndex',-0x1);if(sl&&sk!=-0x1){if(sl){if(sk>0x0&&sl['get']('movements')[sk-0x1]['get']('class')=='TargetPanoramaCameraMovement'){var sw=sm['get']('initialPosition');var sx=sw['get']('yaw');var sy=sw['get']('pitch');var sz=sw['get']('hfov');var sA=sl['get']('movements')[sk-0x1];var sB=sA['get']('targetYaw');var sC=sA['get']('targetPitch');var sD=sA['get']('targetHfov');if(sB!==undefined)sw['set']('yaw',sB);if(sC!==undefined)sw['set']('pitch',sC);if(sD!==undefined)sw['set']('hfov',sD);var sE=function(sH){sw['set']('yaw',sx);sw['set']('pitch',sy);sw['set']('hfov',sz);sg['unbind']('end',sE,this);};sg['bind']('end',sE,this);}sl['set']('movementIndex',sk);}}if(se){sd['unbind']('begin',s4,this);se['unbind']('stateChange',s3,this);for(var sF=0x0;sF<sn['length'];++sF){sn[sF]['unbind']('click',s6,this);}}if(sj){var sG=this['getMediaFromPlayer'](se);if((sa==this['mainPlayList']||sa['get']('items')['length']>0x1)&&(sG==undefined||sG==sd['get']('media'))){sa['set']('selectedIndex',sc);}if(rY!=sa)sa['unbind']('change',s5,this);}else{sh['set']('visible',si);}sa=undefined;};if(!s0){var s8=rY['get']('selectedIndex');var s9=s8!=-0x1?rY['get']('items')[rY['get']('selectedIndex')]['get']('player'):this['getActivePlayerWithViewer'](this['getMainViewer']());if(s9){s0=this['getMediaFromPlayer'](s9);}}var sa=undefined;if(s0){var sb=this['getPlayListsWithMedia'](s0,!![]);if(sb['indexOf'](rY)!=-0x1){sa=rY;}else if(sb['indexOf'](this['mainPlayList'])!=-0x1){sa=this['mainPlayList'];}else if(sb['length']>0x0){sa=sb[0x0];}}if(!sa){rY['set']('selectedIndex',rZ);return;}var sc=sa['get']('selectedIndex');var sd=rY['get']('items')[rZ];var se=sd['get']('player');var sf=this['getMediaFromPlayer'](se);if(rY['get']('selectedIndex')==rZ&&sf==sd['get']('media')||sc==-0x1){return;}if(rY['get']('selectedIndex')==rZ&&sf!=sd['get']('media'))rY['set']('selectedIndex',-0x1);var sg=sa['get']('items')[sc];var sh=se['get']('viewerArea');var si=sh['get']('visible');var sj=sh==sg['get']('player')['get']('viewerArea');if(sj){if(rY!=sa){sa['set']('selectedIndex',-0x1);sa['bind']('change',s5,this);}}else{sh['set']('visible',!![]);}var sk=-0x1;var sl=undefined;var sm=sg['get']('camera');if(sm){sl=sm['get']('initialSequence');if(sl){sk=sl['get']('movementIndex');}}rY['set']('selectedIndex',rZ);var sn=[];var so=function(sI){var sJ=se['get'](sI);if(sJ==undefined)return;if(Array['isArray'](sJ))sn=sn['concat'](sJ);else sn['push'](sJ);};so('buttonStop');for(var sp=0x0;sp<sn['length'];++sp){sn[sp]['bind']('click',s6,this);}sd['bind']('begin',s4,s2);this['executeFunctionWhenChange'](rY,rZ,s1?s6:undefined);};TDV['Tour']['Script']['setOverlayBehaviour']=function(sK,sL,sM,sN){var sO=function(){switch(sM){case'triggerClick':this['triggerOverlay'](sK,'click');break;case'stop':case'play':case'pause':sK[sM]();break;case'togglePlayPause':case'togglePlayStop':if(sK['get']('state')=='playing')sK[sM=='togglePlayPause'?'pause':'stop']();else sK['play']();break;}if(sN){if(window['overlaysDispatched']==undefined)window['overlaysDispatched']={};var sT=sK['get']('id');window['overlaysDispatched'][sT]=!![];setTimeout(function(){delete window['overlaysDispatched'][sT];},0x3e8);}};if(sN&&window['overlaysDispatched']!=undefined&&sK['get']('id')in window['overlaysDispatched'])return;var sP=this['getFirstPlayListWithMedia'](sL,!![]);if(sP!=undefined){var sQ=this['getPlayListItemByMedia'](sP,sL);var sR=sQ['get']('player');if(sP['get']('items')['indexOf'](sQ)!=sP['get']('selectedIndex')||this['isPanorama'](sQ['get']('media'))&&sR['get']('rendererPanorama')!=sQ['get']('media')){var sS=function(sU){sQ['unbind']('begin',sS,this);sO['call'](this);};sQ['bind']('begin',sS,this);return;}}sO['call'](this);};TDV['Tour']['Script']['setOverlaysVisibility']=function(sV,sW,sX){var sY='overlayEffects';var sZ=undefined;var t0=this['getKey'](sY);if(!t0){t0={};this['registerKey'](sY,t0);}for(var t1=0x0,t2=sV['length'];t1<t2;++t1){var t3=sV[t1];if(!t3)continue;if(sX&&sX>0x0){t0[t3['get']('id')]=setTimeout(t4['bind'](this,t3),sX);}else{t4['call'](this,t3);}}function t4(t5){var t6=t5['get']('id');var t7=t0[t6];if(t7){clearTimeout(t7);delete t7[t6];}var t8=t5['get']('class')=='PanoramaModel3DLocation'?t5['get']('data')['object']:t5;if(!t8)return;var t9=sW=='toggle'?!t8['get']('enabled'):sW;t8['set']('enabled',t9);if(t5['get']('class')=='PanoramaModel3DLocation')t5['get']('data')['enabled']=t9;var tb=t5['get']('data');if(t9&&tb&&'group'in tb){var tc=this['getOverlaysByGroupname'](tb['group']);for(var td=0x0,te=tc['length'];td<te;++td){var tg=tc[td];if(tg!=t5)tg['set']('enabled',!t9);}}if(!sZ)sZ=this['getByClassName']('AdjacentPanorama');for(var th=0x0,ti=sZ['length'];th<ti;++th){var tj=sZ[th];var tb=tj['get']('data');if(!tb)continue;var tg=this[tb['overlayID']];if(tg&&tg==t5){tj['set']('enabled',tg['get']('enabled'));}}}};TDV['Tour']['Script']['setOverlaysVisibilityByTags']=function(tk,tl,tm,tn,to){var tp=tm?this['getPanoramaOverlaysByTags'](tm,tk,tn):this['getOverlaysByTags'](tk,tn);this['setOverlaysVisibility'](tp,tl,to);};TDV['Tour']['Script']['setComponentsVisibilityByTags']=function(tq,tr,ts,tt,tu){var tv=this['getComponentsByTags'](tq,tu);for(var tw=0x0,tx=tv['length'];tw<tx;++tw){var ty=tv[tw];if(tr=='toggle')ty['get']('visible')?tt(ty):ts(ty);else tr?ts(ty):tt(ty);}};TDV['Tour']['Script']['setModel3DCameraSpot']=function(tz,tA,tB,tC,tD){var tE=tz['get']('selectedIndex');var tF=tz['get']('items');var tG=tA['get']('media');var tH=tG['get']('camera');if(tE>=0x0&&tF[tE]==tA&&tG['get']('isLoaded')){tH['set']('yaw',tH['get']('yaw')%0x168);var tI=tA['get']('player')['get']('viewerArea');var tJ=this['getActiveMediaWithViewer'](tI);if(tJ['get']('class')['indexOf']('Panorama')!=-0x1){if(tC!==undefined){tC*=0x3e8;var tK=tI['get']('modelToPanoramaTraslationDuration');var tL=tI['get']('panoramaToModelTraslationDuration');var tM=()=>{clearTimeout(tN);tz['unbind']('change',tM,this);tI['set']('modelToPanoramaTraslationDuration',tK);tI['set']('panoramaToModelTraslationDuration',tL);};var tN=setTimeout(tM,tC);tz['bind']('change',tM,this);tI['set']('modelToPanoramaTraslationDuration',tC);tI['set']('panoramaToModelTraslationDuration',tC);}tH['setStoredPosition'](tB);}else{if(tH['get']('state')=='playing')tH['stop']();this['createTween'](tH,tB,tC,tD)['play']();}}else{if(tH['get']('state')=='playing')tH['stop']();this['startModel3DWithCameraSpot'](tA,tB);}};TDV['Tour']['Script']['setModel3DCameraSequence']=function(tO,tP,tQ){var tR=tO['get']('selectedIndex');var tS=tO['get']('items');var tT=tP['get']('media');if(tS[tR]==tP&&tT['get']('isLoaded')){tQ['play']();}else{var tU=tQ['get']('movements');var tV={};if(tU['length']>0x0){var tW=tU[0x0];if(tW['get']('class')=='TargetModel3DCameraMovement'){var tX=['x','y','z','yaw','pitch','fov','distance'];for(var tY in tX){tY=tX[tY];var tZ=tW['get']('target'+tY['charAt'](0x0)['toUpperCase']()+tY['slice'](0x1));if(tZ!==undefined){tV[tY]=tZ;}}}}this['startModel3DWithCameraSpot'](tP,tV);var u0=function(){tP['unbind']('begin',u0,this);tQ['play']();};tP['bind']('begin',u0,this);}};TDV['Tour']['Script']['setPanoramaCameraWithCurrentSpot']=function(u1,u2){var u3=this['getActiveMediaWithViewer'](u2||this['getMainViewer']());if(u3!=undefined&&(u3['get']('class')['indexOf']('Panorama')!=-0x1||u3['get']('class')=='Video360')){var u4=u1['get']('media');var u5=this['clonePanoramaCamera'](u1['get']('camera'));this['setCameraSameSpotAsMedia'](u5,u3);this['startPanoramaWithCamera'](u4,u5);}};TDV['Tour']['Script']['setPanoramaCameraWithSpot']=function(u6,u7,u8,u9,ua){var ub=u7['get']('media');var uc=u7['get']('player');if(u6['get']('items')[u6['get']('selectedIndex')]==u7||uc['get']('rendererPanorama')==ub){if(u8===undefined)u8=uc['get']('yaw');if(u9===undefined)u9=uc['get']('pitch');if(ua===undefined)ua=uc['get']('hfov');uc['moveTo'](u8,u9,uc['get']('roll'),ua);}else{var ud=this['clonePanoramaCamera'](u7['get']('camera'));var ue=ud['get']('initialPosition');if(u8!==undefined)ue['set']('yaw',u8);if(u9!==undefined)ue['set']('pitch',u9);if(ua!==undefined)ue['set']('hfov',ua);this['startPanoramaWithCamera'](ub,ud);}};TDV['Tour']['Script']['setSurfaceSelectionHotspotMode']=function(uf){var ug=this['getByClassName']('HotspotPanoramaOverlay');var uh=this['getByClassName']('PanoramaPlayer');var ui=uf=='hotspotEnabled';var uj=uf=='circleEnabled';var uk=!!uf;ug['forEach'](function(ul){var um=ul['get']('data');if(um&&um['hasPanoramaAction']==!![])ul['set']('enabledInSurfaceSelection',ui);});uh['forEach'](function(un){un['set']('adjacentPanoramaPositionsEnabled',uj);un['set']('surfaceSelectionEnabled',uk);});this['get']('data')['surfaceSelectionHotspotMode']=uf;};TDV['Tour']['Script']['setValue']=function(uo,up,uq){try{if('set'in uo)uo['set'](up,uq);else uo[up]=uq;}catch(ur){}};TDV['Tour']['Script']['setStartTimeVideo']=function(us,ut){var uu=this['getPlayListItems'](us);var uv=[];var uw=function(){for(var uA=0x0;uA<uu['length'];++uA){var uB=uu[uA];uB['set']('startTime',uv[uA]);uB['unbind']('stop',uw,this);}};for(var ux=0x0;ux<uu['length'];++ux){var uy=uu[ux];var uz=uy['get']('player');if(!uz)continue;if(uz['get']('video')==us&&uz['get']('state')=='playing'){uz['seek'](ut);}else{uv['push'](uy['get']('startTime'));uy['set']('startTime',ut);uy['bind']('stop',uw,this);}}};TDV['Tour']['Script']['setStartTimeVideoSync']=function(uC,uD){if(uC&&uD)this['setStartTimeVideo'](uC,uD['get']('currentTime'));};TDV['Tour']['Script']['skip3DTransitionOnce']=function(uE){if(uE&&uE['get']('class')=='PanoramaPlayer'){var uF=uE['get']('viewerArea');if(uF&&uF['get']('translationTransitionEnabled')==!![]){var uG=function(){uE['unbind']('preloadMediaShow',uG,this);uF['set']('translationTransitionEnabled',!![]);};uF['set']('translationTransitionEnabled',![]);uE['bind']('preloadMediaShow',uG,this);}}};TDV['Tour']['Script']['shareSocial']=function(uH,uI,uJ,uK,uL){if(uI==undefined){uI=location['href']['split'](location['search']||location['hash']||/[?#]/)[0x0];}if(uJ){uI+=this['updateDeepLink'](uK,![]);}uI=function(uN){switch(uN){case'email':return'mailto:?body='+encodeURIComponent(uI);case'facebook':var uO=uI['indexOf']('?')!=-0x1;uI=uI['replace']('#','?');if(uO){var uP=uI['lastIndexOf']('?');uI=uI['substring'](0x0,uP)+'&'+uI['substring'](uP+0x1);}return'https://www.facebook.com/sharer/sharer.php?u='+encodeURIComponent(uI);case'linkedin':return'https://www.linkedin.com/shareArticle?mini=true&url='+encodeURIComponent(uI);case'pinterest':return'https://pinterest.com/pin/create/button/?url='+uI;case'telegram':return'https://t.me/share/url?url='+uI;case'twitter':return'https://twitter.com/intent/tweet?source=webclient&url='+uI;case'whatsapp':return'https://api.whatsapp.com/send/?text='+encodeURIComponent(uI);default:return uI;}}(uH);if(uL){for(var uM in uL){uI+='&'+uM+'='+uL[uM];}}if(uH=='clipboard')this['copyToClipboard'](uI);else this['openLink'](uI,'_blank');};TDV['Tour']['Script']['showComponentsWhileMouseOver']=function(uQ,uR,uS,uT){var uU=function(uY){for(var uZ=0x0,v0=uR['length'];uZ<v0;uZ++){var v1=uR[uZ];if(!uT||uT(v1,uY))v1['set']('visible',uY);}};if(this['get']('isMobile')||this['get']('touchDevice')){uU['call'](this,!![]);}else{var uV=-0x1;var uW=function(){uU['call'](this,!![]);if(uV>=0x0)clearTimeout(uV);uQ['bind']('rollOut',uX,this);};var uX=function(){var v2=function(){uU['call'](this,![]);};uQ['unbind']('rollOut',uX,this);uV=setTimeout(v2['bind'](this),uS);};uQ['bind']('rollOver',uW,this);}};TDV['Tour']['Script']['setObjectsVisibilityByTags']=function(v3,v4,v5,v6){var v7=this['_getObjectsByTags'](v4,['InnerModel3DObject'],'tags2Objects',v5)['filter'](function(v8){return v3['get']('objects')['indexOf'](v8)!=-0x1;}['bind'](this));this['setObjectsVisibility'](v7,v6);};TDV['Tour']['Script']['setObjectsVisibilityByID']=function(v9,va,vb){var vc=va['map'](function(vd){return this['getModel3DInnerObject'](v9,vd);}['bind'](this));this['setObjectsVisibility'](vc,vb);};TDV['Tour']['Script']['setObjectsVisibility']=function(ve,vf){ve['forEach'](function(vg){if(vg)vg['set']('enabled',vf==='toggle'?!vg['get']('enabled'):vf);}['bind'](this));};TDV['Tour']['Script']['getModel3DInnerObject']=function(vh,vi){var vj=vh['get']('objects');for(var vk=0x0,vl=vj['length'];vk<vl;++vk){var vm=vj[vk];if(vm['get']('class')=='InnerModel3DObject'&&vm['get']('objectId')==vi)return vm;}return undefined;};TDV['Tour']['Script']['showPopupMedia']=function(vn,vo,vp,vq,vr,vs){var vt=this;var vu=function(){window['resumeAudiosBlocked']=![];vp['set']('selectedIndex',-0x1);vt['getMainViewer']()['set']('toolTipEnabled',!![]);this['resumePlayers'](vz,!![]);if(vy){this['unbind']('resize',vw,this);}vn['unbind']('close',vu,this);};var vv=function(){vn['hide']();};var vw=function(){var vA=function(vR){return vn['get'](vR)||0x0;};var vB=vt['get']('actualWidth');var vC=vt['get']('actualHeight');var vD=vt['getMediaWidth'](vo);var vE=vt['getMediaHeight'](vo);var vF=parseFloat(vq)/0x64;var vG=parseFloat(vr)/0x64;var vH=vF*vB;var vI=vG*vC;var vJ=vA('footerHeight');var vK=vA('headerHeight');if(!vK){var vL=vA('closeButtonIconHeight')+vA('closeButtonPaddingTop')+vA('closeButtonPaddingBottom');var vM=vt['getPixels'](vA('titleFontSize'))+vA('titlePaddingTop')+vA('titlePaddingBottom');vK=vL>vM?vL:vM;vK+=vA('headerPaddingTop')+vA('headerPaddingBottom');}var vN=vH-vA('bodyPaddingLeft')-vA('bodyPaddingRight')-vA('paddingLeft')-vA('paddingRight');var vO=vI-vK-vJ-vA('bodyPaddingTop')-vA('bodyPaddingBottom')-vA('paddingTop')-vA('paddingBottom');var vP=vN/vO;var vQ=vD/vE;if(vP>vQ){vH=vO*vQ+vA('bodyPaddingLeft')+vA('bodyPaddingRight')+vA('paddingLeft')+vA('paddingRight');}else{vI=vN/vQ+vK+vJ+vA('bodyPaddingTop')+vA('bodyPaddingBottom')+vA('paddingTop')+vA('paddingBottom');}if(vH>vB*vF){vH=vB*vF;}if(vI>vC*vG){vI=vC*vG;}vn['set']('width',vH);vn['set']('height',vI);vn['set']('x',(vB-vA('actualWidth'))*0.5);vn['set']('y',(vC-vA('actualHeight'))*0.5);};if(vs){this['executeFunctionWhenChange'](vp,0x0,vv);}var vx=vo['get']('class');var vy=vx=='Video'||vx=='Video360';vp['set']('selectedIndex',0x0);if(vy){this['bind']('resize',vw,this);vw();vp['get']('items')[0x0]['get']('player')['play']();}else{vn['set']('width',vq);vn['set']('height',vr);}window['resumeAudiosBlocked']=!![];this['getMainViewer']()['set']('toolTipEnabled',![]);var vz=this['pauseCurrentPlayers'](!![]);vn['bind']('close',vu,this);vn['show'](this,!![]);};TDV['Tour']['Script']['showPopupImage']=function(vS,vT,vU,vV,vW,vX,vY,vZ,w0,w1,w2,w3){var w4=![];var w5=function(){wn['unbind']('loaded',w8,this);wc['call'](this);};var w6=function(){wn['unbind']('click',w6,this);if(wr!=undefined){clearTimeout(wr);}};var w7=function(){setTimeout(wh,0x0);};var w8=function(){this['unbind']('click',w5,this);wm['set']('visible',!![]);wh();wo['set']('visible',!![]);wn['unbind']('loaded',w8,this);wn['bind']('resize',w7,this);wr=setTimeout(w9['bind'](this),0xc8);};var w9=function(){wr=undefined;if(vZ){wn['bind']('click',w6,this);wb['call'](this);}wn['bind']('userInteractionStart',wi,this);wn['bind']('userInteractionEnd',wj,this);wn['bind']('backgroundClick',wc,this);if(vT){wn['bind']('click',wf,this);wn['set']('imageCursor','hand');}wo['bind']('click',wc,this);if(w2)w2['call'](this);};var wa=function(){if(vZ&&wr){clearTimeout(wr);wr=undefined;}};var wb=function(){if(vZ){wa();wr=setTimeout(wc['bind'](this),vZ);}};var wc=function(){this['getMainViewer']()['set']('toolTipEnabled',!![]);w4=!![];if(wr)clearTimeout(wr);if(ws)clearTimeout(ws);if(vZ)w6();if(vX&&vX['get']('duration')>0x0){vX['bind']('end',we,this);}else{setTimeout(()=>{wd['call'](this);},0x0);}wn['set']('visible',![]);wo['set']('visible',![]);wm['set']('visible',![]);this['unbind']('click',w5,this);wn['unbind']('backgroundClick',wc,this);wn['unbind']('userInteractionStart',wi,this);wn['unbind']('userInteractionEnd',wj,this,!![]);wn['unbind']('resize',w7,this);if(vT){wn['unbind']('click',wf,this);wn['set']('cursor','default');}wo['unbind']('click',wc,this);this['resumePlayers'](wq,w0==null||w1);if(w1){this['resumeGlobalAudios']();}if(w0){this['stopGlobalAudio'](w0);}};var wd=function(){wn['set']('image',null);if(w3)w3['call'](this);};var we=function(){vX['unbind']('end',we,this);wd['call'](this);};var wf=function(){wn['set']('image',wg()?vS:vT);};var wg=function(){return wn['get']('image')==vT;};var wh=function(){var wt=wn['get']('actualWidth')-wn['get']('imageLeft')-wn['get']('imageWidth')+0xa;var wu=wn['get']('imageTop')+0xa;if(wt<0xa)wt=0xa;if(wu<0xa)wu=0xa;wo['set']('right',wt);wo['set']('top',wu);};var wi=function(){wa();if(ws){clearTimeout(ws);ws=undefined;}else{wo['set']('visible',![]);}};var wj=function(){wb['call'](this);if(!w4){ws=setTimeout(wk,0x12c);}};var wk=function(){ws=undefined;wo['set']('visible',!![]);wh();};var wl=function(wv){var ww=wv['get']('data');if(ww&&'extraLevels'in ww){var wx=this['rootPlayer']['createInstance'](wv['get']('class'));var wy=ww['extraLevels'];for(var wz=0x0;wz<wy['length'];wz++){var wA=wy[wz];if(typeof wA=='string')wy[wz]=this[wA['replace']('this.','')];}wx['set']('levels',wv['get']('levels')['concat'](wy));wv=wx;}return wv;};this['getMainViewer']()['set']('toolTipEnabled',![]);var wm=this['veilPopupPanorama'];var wn=this['zoomImagePopupPanorama'];var wo=this['closeButtonPopupPanorama'];if(vY){for(var wp in vY){wo['set'](wp,vY[wp]);}}var wq=this['pauseCurrentPlayers'](w0==null||!w1);if(w1){this['pauseGlobalAudios'](null,!![]);}if(w0){this['playGlobalAudio'](w0,!![]);}var wr=undefined;var ws=undefined;vS=wl['call'](this,vS);if(vT)vT=wl['call'](this,vT);wn['bind']('loaded',w8,this);setTimeout(function(){this['bind']('click',w5,this,![]);}['bind'](this),0x0);wn['set']('image',vS);wn['set']('customWidth',vU);wn['set']('customHeight',vV);wn['set']('showEffect',vW);wn['set']('hideEffect',vX);wn['set']('visible',!![]);return wn;};TDV['Tour']['Script']['showPopupPanoramaOverlay']=function(wB,wC,wD,wE,wF,wG,wH,wI){var wJ=this['isCardboardViewMode']();if(wB['get']('visible')||!wJ&&this['zoomImagePopupPanorama']['get']('visible'))return;this['getMainViewer']()['set']('toolTipEnabled',![]);if(!wJ){var wK=this['zoomImagePopupPanorama'];var wL=wB['get']('showDuration');var wM=wB['get']('hideDuration');var wO=this['pauseCurrentPlayers'](wG==null||!wH);var wP=wB['get']('popupMaxWidth');var wQ=wB['get']('popupMaxHeight');var wR=function(){var wV=function(){if(!this['isCardboardViewMode']())wB['set']('visible',![]);};wB['unbind']('showEnd',wR,this);wB['set']('showDuration',0x1);wB['set']('hideDuration',0x1);this['showPopupImage'](wD,wE,wB['get']('popupMaxWidth'),wB['get']('popupMaxHeight'),null,null,wC,wF,wG,wH,wV,wS);};var wS=function(){var wW=function(){wB['unbind']('hideEnd',wW,this);if(wI)wI();};var wX=function(){wB['unbind']('showEnd',wX,this);wB['bind']('hideEnd',wW,this,!![]);wB['set']('visible',![]);wB['set']('showDuration',wL);wB['set']('popupMaxWidth',wP);wB['set']('popupMaxHeight',wQ);};this['resumePlayers'](wO,wG==null||!wH);var wY=wK['get']('imageWidth');var wZ=wK['get']('imageHeight');wB['bind']('showEnd',wX,this,!![]);wB['set']('showDuration',0x1);wB['set']('hideDuration',wM);wB['set']('popupMaxWidth',wY);wB['set']('popupMaxHeight',wZ);if(wB['get']('visible'))wX();else wB['set']('visible',!![]);this['getMainViewer']()['set']('toolTipEnabled',!![]);};wB['bind']('showEnd',wR,this,!![]);}else{var wT=function(){this['resumePlayers'](wO,wG==null||wH);if(wH){this['resumeGlobalAudios']();}if(wG){this['stopGlobalAudio'](wG);}if(wE){wB['set']('image',wD);wB['unbind']('click',wU,this);}wB['unbind']('hideEnd',wT,this);this['getMainViewer']()['set']('toolTipEnabled',!![]);if(wI)wI();};var wU=function(){wB['set']('image',wB['get']('image')==wD?wE:wD);};var wO=this['pauseCurrentPlayers'](wG==null||!wH);if(wH){this['pauseGlobalAudios'](null,!![]);}if(wG){this['playGlobalAudio'](wG,!![]);}if(wE)wB['bind']('click',wU,this);wB['bind']('hideEnd',wT,this,!![]);}wB['set']('visible',!![]);};TDV['Tour']['Script']['showPopupPanoramaVideoOverlay']=function(x0,x1,x2,x3,x4){var x5=![];var x6=function(){x0['unbind']('showEnd',x6);xa['bind']('click',x8,this);x9();xa['set']('visible',!![]);}['bind'](this);var x7=function(){x5=!![];if(!x0['get']('loop'))x8();}['bind'](this);var x8=function(){window['resumeAudiosBlocked']=![];this['getMainViewer']()['set']('toolTipEnabled',!![]);x0['set']('visible',![]);xa['set']('visible',![]);xa['unbind']('click',x8,this);x0['unbind']('end',x7,this);x0['unbind']('hideEnd',x8,this,!![]);this['resumePlayers'](xc,!![]);if(x2){this['resumeGlobalAudios']();}if(x3)x3();if(x4&&x5)x4();}['bind'](this);var x9=function(){var xd=0xa;var xe=0xa;xa['set']('right',xd);xa['set']('top',xe);}['bind'](this);this['getMainViewer']()['set']('toolTipEnabled',![]);var xa=this['closeButtonPopupPanorama'];if(x1){for(var xb in x1){xa['set'](xb,x1[xb]);}}window['resumeAudiosBlocked']=!![];var xc=this['pauseCurrentPlayers'](!![]);if(x2){this['pauseGlobalAudios']();}x0['bind']('end',x7,this,!![]);x0['bind']('showEnd',x6,this,!![]);x0['bind']('hideEnd',x8,this,!![]);x0['set']('visible',!![]);};TDV['Tour']['Script']['showWindow']=function(xf,xg,xh){if(xf['get']('visible')==!![]){return;}var xi=function(){this['getMainViewer']()['set']('toolTipEnabled',!![]);if(xh){this['resumeGlobalAudios']();}xj();this['resumePlayers'](xm,!xh);xf['unbind']('close',xi,this);};var xj=function(){xf['unbind']('click',xj,this);if(xk!=undefined){clearTimeout(xk);}};var xk=undefined;if(xg){var xl=function(){xf['hide']();};xf['bind']('click',xj,this);xk=setTimeout(xl,xg);}this['getMainViewer']()['set']('toolTipEnabled',![]);if(xh){this['pauseGlobalAudios'](null,!![]);}var xm=this['pauseCurrentPlayers'](!xh);xf['bind']('close',xi,this);xf['show'](this,!![]);};TDV['Tour']['Script']['startModel3DWithCameraSpot']=function(xn,xo){var xp=xn['get']('media');var xq=window['currentPanoramasWithCameraChanged']==undefined||!(xp['get']('id')in window['currentPanoramasWithCameraChanged']);if(!xq){return;}var xr=xp['get']('camera');xo=Object['assign']({},xo);if(!xp['get']('isLoaded')){var xs={};for(var xu in xo){var xv='initial'+xu['charAt'](0x0)['toUpperCase']()+xu['slice'](0x1);xs[xv]=xr['get'](xv);xo[xv]=xo[xu];xr['set'](xv,xo[xv]);delete xo[xu];}if(window['currentPanoramasWithCameraChanged']==undefined){window['currentPanoramasWithCameraChanged']={};}var xw=xp['get']('id');window['currentPanoramasWithCameraChanged'][xw]=[xn];var xx=function(){if(xw in window['currentPanoramasWithCameraChanged']){delete window['currentPanoramasWithCameraChanged'][xw];}xn['unbind']('begin',xx,this);for(var xF in xs){xr['set'](xF,xs[xF]);}};xn['bind']('begin',xx,this);}else{for(var xu in xo){xr['set'](xu,xo[xu]);}xr['setStoredPosition'](xo);}var xy=xn['get']('player');var xz=xy['get']('viewerArea');var xA=this['getActivePlayersWithViewer'](xz);var xB=xA['find'](function(xG){return this['getMediaFromPlayer'](xG)['get']('class')['indexOf']('Panorama')!=-0x1;}['bind'](this));var xC=xp['get']('data');if(xB&&xC['panoramaLocations']){var xD=this['getMediaFromPlayer'](xB);var xE=_getObject(this,xC['panoramaLocations']['find'](xH=>xD==_getObject(this,_getObject(this,xH)['get']('data')['panorama'])));if(xE&&!xE['get']('forceModelLoading')){xE['set']('forceModelLoading',!![]);xn['bind']('begin',function xI(){xn['unbind']('begin',xI,this);xE['set']('forceModelLoading',![]);},this);}}};TDV['Tour']['Script']['startPanoramaWithCamera']=function(xJ,xK){var xL=this['getByClassName']('PlayList');if(xL['length']==0x0)return;var xM=window['currentPanoramasWithCameraChanged']==undefined||!(xJ['get']('id')in window['currentPanoramasWithCameraChanged']);var xN=[];for(var xP=0x0,xQ=xL['length'];xP<xQ;++xP){var xR=xL[xP];var xS=xR['get']('items');for(var xT=0x0,xU=xS['length'];xT<xU;++xT){var xW=xS[xT];if(xW['get']('media')==xJ&&(xW['get']('class')=='PanoramaPlayListItem'||xW['get']('class')=='Video360PlayListItem')){if(xM){xN['push']({'camera':xW['get']('camera'),'item':xW});}xW['set']('camera',xK);}}}if(xN['length']>0x0){if(window['currentPanoramasWithCameraChanged']==undefined){window['currentPanoramasWithCameraChanged']={};}var xX=xJ['get']('id');window['currentPanoramasWithCameraChanged'][xX]=xN;var xY=function(){if(xX in window['currentPanoramasWithCameraChanged']){delete window['currentPanoramasWithCameraChanged'][xX];}for(var y0=0x0;y0<xN['length'];y0++){xN[y0]['item']['set']('camera',xN[y0]['camera']);xN[y0]['item']['unbind']('end',xY,this);}};for(var xP=0x0;xP<xN['length'];xP++){var xZ=xN[xP];var xW=xZ['item'];this['skip3DTransitionOnce'](xW['get']('player'));xW['bind']('end',xY,this);}}};TDV['Tour']['Script']['stopAndGoCamera']=function(y1,y2){var y3=y1['get']('initialSequence');y3['pause']();var y4=function(){y3['play']();};setTimeout(y4,y2);};TDV['Tour']['Script']['syncPlaylists']=function(y5){var y6=function(ye,yf){for(var yg=0x0,yh=y5['length'];yg<yh;++yg){var yi=y5[yg];if(yi!=yf){var yj=yi['get']('items');for(var yk=0x0,yl=yj['length'];yk<yl;++yk){if(yj[yk]['get']('media')==ye){if(yi['get']('selectedIndex')!=yk){yi['set']('selectedIndex',yk);}break;}}}}};var y7=function(ym){var yn=ym['source'];var yo=yn['get']('selectedIndex');if(yo<0x0)return;var yp=yn['get']('items')[yo]['get']('media');y6(yp,yn);};var y8=function(yq){var yr=yq['source']['get']('panoramaMapLocation');if(yr){var ys=yr['get']('map');y6(ys);}};for(var ya=0x0,yc=y5['length'];ya<yc;++ya){y5[ya]['bind']('change',y7,this);}var yd=this['getByClassName']('MapPlayer');for(var ya=0x0,yc=yd['length'];ya<yc;++ya){yd[ya]['bind']('panoramaMapLocation_change',y8,this);}};TDV['Tour']['Script']['translate']=function(yt){return this['get']('data')['localeManager']['trans'](yt);};TDV['Tour']['Script']['triggerOverlay']=function(yu,yv){if(yu['get']('areas')!=undefined){var yw=yu['get']('areas');for(var yx=0x0;yx<yw['length'];++yx){yw[yx]['trigger'](yv);}}else{yu['trigger'](yv);}};TDV['Tour']['Script']['updateDeepLink']=function(yy){yy=yy||{};var yz=this['mainPlayList']['get']('selectedIndex');var yA;var yB=yz>=0x0?this['mainPlayList']['get']('items')[yz]['get']('media'):this['getActiveMediaWithViewer'](this['getMainViewer']());if(yB!=undefined){var yD=yB['get']('data');if(yD&&yD['label']){if(yz>=0x0){var yF=this['mainPlayList']['get']('items')['reduce'](function(z0,z1){var z2=z1['get']('media')['get']('data');return z2&&yD['label']==z2['label']?z0+0x1:z0;},0x0);if(yF!=0x1)yA='#media='+(yz+0x1);}if(!yA)yA='#media-name='+encodeURIComponent(yD['label']);}else if(yz>=0x0){yA='#media='+(yz+0x1);}}if(yB){if(yy['includeCurrentView']===!![]){var yG=this['getActivePlayerWithViewer'](this['getMainViewer']());if(yG){switch(yG['get']('class')){case'PanoramaPlayer':var yH=yG['get']('yaw');var yI=yG['get']('pitch');var yJ=yG['get']('hfov');if(!isNaN(yH)&&!isNaN(yI))yA+='&yaw='+yH['toFixed'](0x2)+'&pitch='+yI['toFixed'](0x2);if(!isNaN(yJ))yA+='&fov='+yJ['toFixed'](0x2);break;case'Model3DPlayer':var yK=yG['get']('model');var yL=yK['get']('camera');var yM=[];yM['push']('yaw='+yL['get']('yaw')['toFixed'](0x2));yM['push']('pitch='+yL['get']('pitch')['toFixed'](0x2));yM['push']('x='+yL['get']('x')['toFixed'](0x5));yM['push']('y='+yL['get']('y')['toFixed'](0x5));yM['push']('z='+yL['get']('z')['toFixed'](0x5));if(yL['get']('class')=='OrbitModel3DCamera')yM['push']('distance='+yL['get']('distance')['toFixed'](0x5));yA+='&'+yM['join']('&');break;}}}if(yy['includeCurrentVisibleHotspots']===!![]){var yN=this['getOverlays'](yB);var yO=[];var yP=[];for(var yQ=0x0,yF=yN['length'];yQ<yF;++yQ){var yR=yN[yQ];var yS=yR['get']('enabled');var yD=yR['get']('data');if(yS===undefined||!yD||!yD['label'])continue;var yT=encodeURIComponent(yD['label']);var yU=yD['group'];if(yS!=yD['defaultEnabledValue']){if(yS){yO['push'](yT);}else if(!yU){yP['push'](yT);}}}if(yO['length']>0x0)yA+='&son='+yO['join'](',');if(yP['length']>0x0)yA+='&hon='+yP['join'](',');if(yB['get']('class')=='Model3D'){var yV=yB['get']('variant');if(yV)yA+='&variant='+yV;var yW=yB['get']('objects');var yX=[];var yY=[];yW['forEach'](function(z3){if(z3['get']('class')=='InnerModel3DObject')(z3['get']('enabled')?yX:yY)['push'](z3['get']('objectId'));});if(yX['length']>0x0)yA+='&sobjids='+yX['join'](',');if(yY['length']>0x0)yA+='&hobjids='+yY['join'](',');}}if(yy['includeCurrentMeasureModel3DObjects']===!![]&&yB['get']('class')=='Model3D'){var yZ=[];yB['get']('objects')['forEach'](function(z4){if(z4['get']('class')=='MeasureModel3DObject'&&z4['get']('mode')!='create'){var z5=[z4['get']('data')['id'],z4['get']('x'),z4['get']('y'),z4['get']('z')];z4['get']('points')['forEach'](function(z6){z5['push'](z6['get']('x'),z6['get']('y'),z6['get']('z'));});if(z5['length']>0x4){yZ['push'](z5['join'](','));}}});if(yZ['length']>0x0)yA+='&measures='+yZ['join']('+');}}if(yA&&yy['setHash']===!![]){location['hash']=yA;}return yA;};TDV['Tour']['Script']['updateMediaLabelFromPlayList']=function(z7,z8,z9){var za=function(){var zc=z7['get']('selectedIndex');if(zc>=0x0){var zd=function(){zg['unbind']('begin',zd);ze(zc);};var ze=function(zh){var zi=zg['get']('media');var zj=zi['get']('data');var zk=zj!==undefined?zj['description']:undefined;zf(zk);};var zf=function(zl){if(zl!==undefined){z8['set']('html','<div\x20style=\x22text-align:left\x22><SPAN\x20STYLE=\x22color:#FFFFFF;font-size:12px;font-family:Verdana\x22><span\x20color=\x22white\x22\x20font-family=\x22Verdana\x22\x20font-size=\x2212px\x22>'+zl+'</SPAN></div>');}else{z8['set']('html','');}var zm=z8['get']('html');z8['set']('visible',zm!==undefined&&zm);};var zg=z7['get']('items')[zc];if(z8['get']('html')){zf('Loading...');zg['bind']('begin',zd);}else{ze(zc);}}};var zb=function(){z8['set']('html',undefined);z7['unbind']('change',za,this);z9['unbind']('stop',zb,this);};if(z9){z9['bind']('stop',zb,this);}z7['bind']('change',za,this);za();};TDV['Tour']['Script']['updateVideoCues']=function(zn,zo){var zp=zn['get']('items')[zo];var zq=zp['get']('media');if(zq['get']('cues')['length']==0x0)return;var zr=zp['get']('player');var zs=[];var zt=function(){if(zn['get']('selectedIndex')!=zo){zq['unbind']('cueChange',zu,this);zn['unbind']('change',zt,this);}};var zu=function(zv){var zw=zv['data']['activeCues'];for(var zx=0x0,zy=zs['length'];zx<zy;++zx){var zz=zs[zx];if(zw['indexOf'](zz)==-0x1&&(zz['get']('startTime')>zr['get']('currentTime')||zz['get']('endTime')<zr['get']('currentTime')+0.5)){zz['trigger']('end');}}zs=zw;};zq['bind']('cueChange',zu,this);zn['bind']('change',zt,this);};TDV['Tour']['Script']['visibleComponentsIfPlayerFlagEnabled']=function(zA,zB){var zC=this['get'](zB);for(var zD in zA){zA[zD]['set']('visible',zC);}};TDV['Tour']['Script']['quizStart']=function(){var zE=this['get']('data')['quiz'];return zE?zE['start']():undefined;};TDV['Tour']['Script']['quizFinish']=function(){var zF=this['get']('data')['quiz'];return zF?zF['finish']():undefined;};TDV['Tour']['Script']['quizPauseTimer']=function(){var zG=this['get']('data')['quiz'];return zG?zG['pauseTimer']():undefined;};TDV['Tour']['Script']['quizResumeTimer']=function(){var zH=this['get']('data')['quiz'];return zH?zH['continueTimer']():undefined;};TDV['Tour']['Script']['quizSetItemFound']=function(zI){var zJ=this['get']('data')['quiz'];if(zJ)zJ['setItemFound'](zI);};TDV['Tour']['Script']['quizShowQuestion']=function(zK){var zL=this['get']('data');var zM=zL['quiz'];var zN;if(zM){var zO=this['pauseCurrentPlayers'](!![]);var zP=this[zK];var zQ;if(!zP['media']){zQ=this['get']('isMobile')?{'theme':{'window':{'height':undefined,'maxHeight':this['get']('actualHeight'),'optionsContainer':{'height':'100%'}}}}:{'theme':{'window':{'width':'40%','height':undefined,'maxHeight':0x2bc,'optionsContainer':{'width':'100%'}}}};}else if(this['get']('isMobile')&&this['get']('orientation')=='landscape'){zQ={'theme':{'window':{'bodyContainer':{'layout':'horizontal','paddingLeft':0x1e,'paddingRight':0x1e},'mediaContainer':{'width':'60%','height':'100%'},'buttonsContainer':{'paddingLeft':0x14,'paddingRight':0x14},'optionsContainer':{'width':'40%','height':'100%','paddingLeft':0x0,'paddingRight':0x0}}}};}if(this['get']('isMobile')&&this['get']('orientation')=='landscape'){var zR=this['get']('data')['tour']['getNotchValue']();if(zR>0x0){zQ=this['mixObject'](zQ||{},{'theme':{'window':{'width':undefined,'left':zR,'right':zR}}});}}var zS=this['get']('data')['textToSpeechConfig']['speechOnQuizQuestion']&&!!zP['title'];if(zS)this['textToSpeech'](zP['title'],zK);zN=zM['showQuestion'](zK,zQ);zN['then'](function(zT){if(zS)this['stopTextToSpeech']();this['resumePlayers'](zO,!![]);}['bind'](this));}return zN;};TDV['Tour']['Script']['quizShowScore']=function(zU){var zV=this['get']('data');var zW=zV['quiz'];if(zW){if(this['get']('isMobile')){zU=zU||{};zU=this['mixObject'](zU,zV[this['get']('orientation')=='portrait'?'scorePortraitConfig':'scoreLandscapeConfig']);}return zW['showScore'](zU);}};TDV['Tour']['Script']['quizShowTimeout']=function(zX,zY){var zZ=this['get']('data');var A0=zZ['quiz'];if(A0){if(this['get']('isMobile')){zY=zY||{};zY=this['mixObject'](zY,zZ[this['get']('orientation')=='portrait'?'scorePortraitConfig':'scoreLandscapeConfig']);}A0['showTimeout'](zX,zY);}};TDV['Tour']['Script']['stopTextToSpeech']=function(A1){if(window['speechSynthesis']&&(A1==undefined||this['t2sLastID']==A1)){var A2=window['speechSynthesis'];if(A2['speaking']){A2['cancel']();}this['t2sLastID']=undefined;}};TDV['Tour']['Script']['getStateTextToSpeech']=function(A3){return this['t2sLastID']==A3?'playing':'stopped';};TDV['Tour']['Script']['textToSpeech']=function(A4,A5,A6){if(this['get']('mute')){return;}var A7=this['get']('data');var A8=A7['disableTTS']||![];if(A8)return;if(A5!=undefined&&this['t2sLastID']!=A5||A5==undefined){A6=A6||0x0;if(this['t2sLastID']&&A6>this['t2sLastPriority']){return;}var A9=A7['tour'];var Aa=A7['textToSpeechConfig'];var Ab=A7['localeManager']['currentLocaleID'];if(window['speechSynthesis']){var Ac=window['speechSynthesis'];if(Ac['speaking']){Ac['cancel']();}var Ad=new SpeechSynthesisUtterance(A4);if(Ab)Ad['lang']=Ab;var Ae;if(Aa){Ad['volume']=Aa['volume'];Ad['pitch']=Aa['pitch'];Ad['rate']=Aa['rate'];if(Aa['stopBackgroundAudio'])this['pauseGlobalAudios'](null,!![]);}Ad['onend']=function(){this['t2sLastID']=null;if(Ae)clearInterval(Ae);if(Aa['stopBackgroundAudio'])this['resumeGlobalAudios']();}['bind'](this);if(navigator['userAgent']['indexOf']('Chrome')!=-0x1&&!this['get']('isMobile')){Ae=setInterval(function(){Ac['pause']();Ac['resume']();},0xbb8);}Ac['speak'](Ad);this['t2sLastPriority']=A6;this['t2sLastID']=A5;}else if(A9['isMobileApp']()){if(!A9['isIOS']()){var Af=function(Ag,Ah){var Ai={'command':'tts','type':Ag};if(Ah)Ai=this['mixObject'](Ai,Ah);android['sendJSON'](JSON['stringify'](Ai));}['bind'](this);android['onTTSEnd']=function(){this['t2sLastID']=null;if(Aa['stopBackgroundAudio'])this['resumeGlobalAudios']();android['onTTSEnd']=undefined;}['bind'](this);Af('stop');if(Aa){Af('init',{'volume':Aa['volume'],'pitch':Aa['pitch'],'rate':Aa['rate'],'language':Ab});if(Aa['stopBackgroundAudio'])this['pauseGlobalAudios'](null,!![]);}Af('play',{'text':A4,'androidCallback':'onTTSEnd'});}else{console['error']('Text\x20to\x20Speech\x20isn\x27t\x20supported\x20on\x20this\x20browser');}}else{console['error']('Text\x20to\x20Speech\x20isn\x27t\x20supported\x20on\x20this\x20browser');}}};TDV['Tour']['Script']['textToSpeechComponent']=function(Aj){var Ak=Aj['get']('class');var Al;if(Ak=='HTMLText'){var Am=Aj['get']('html');if(Am){Al=this['htmlToPlainText'](Am,{'linkProcess':function(An,Ao){return Ao;}});}}else if(Ak=='BaseButton'){Al=Aj['get']('label');}else if(Ak=='Label'){Al=Aj['get']('text');}if(Al){this['textToSpeech'](Al,Aj['get']('id'));}};TDV['Tour']['Script']['toggleTextToSpeechComponent']=function(Ap){var Aq=Ap['get']('id');if(this['getStateTextToSpeech'](Aq)!='playing')this['textToSpeechComponent'](Ap);else this['stopTextToSpeech'](Aq);};TDV['Tour']['Script']['_initTTSTooltips']=function(){function Ar(At){var Au=At['source'];this['textToSpeech'](Au['get']('toolTip'),Au['get']('id'),0x1);}function As(Av){var Aw=Av['source'];this['stopTextToSpeech'](Aw['get']('id'));}setTimeout(function(){var Ax=this['getByClassName']('UIComponent');for(var Ay=0x0,Az=Ax['length'];Ay<Az;++Ay){var AA=Ax[Ay];var AB=AA['get']('toolTip');if(!!AB||AA['get']('class')=='ViewerArea'){AA['bind']('toolTipShow',Ar,this);AA['bind']('toolTipHide',As,this);}}}['bind'](this),0x0);};TDV['Tour']['Script']['takeScreenshot']=function(AC){var AD=this['getActivePlayerWithViewer'](AC);if(AD&&(AD['get']('class')=='PanoramaPlayer'||AD['get']('class')=='Model3DPlayer'))AD['saveScreenshot']();};TDV['Tour']['Script']['htmlToPlainText']=function htmlToPlainText(AE,AF){var AG=function(AU,AV){var AW='';for(var AX=0x0;AX<AV;AX+=0x1){AW+=AU;}return AW;};var AH=null;var AI=null;var AJ='underline';var AK='indention';var AL='-';var AM=0x3;var AN='-';var AO=![];if(!!AF){if(typeof AF['linkProcess']==='function'){AH=AF['linkProcess'];}if(typeof AF['imgProcess']==='function'){AI=AF['imgProcess'];}if(!!AF['headingStyle']){AJ=AF['headingStyle'];}if(!!AF['listStyle']){AK=AF['listStyle'];}if(!!AF['uIndentionChar']){AL=AF['uIndentionChar'];}if(!!AF['listIndentionTabs']){AM=AF['listIndentionTabs'];}if(!!AF['oIndentionChar']){AN=AF['oIndentionChar'];}if(!!AF['keepNbsps']){AO=AF['keepNbsps'];}}var AP=AG(AL,AM);var AQ=String(AE)['replace'](/\n|\r/g,'\x20');const AR=AQ['match'](/<\/body>/i);if(AR){AQ=AQ['substring'](0x0,AR['index']);}const AS=AQ['match'](/<body[^>]*>/i);if(AS){AQ=AQ['substring'](AS['index']+AS[0x0]['length'],AQ['length']);}AQ=AQ['replace'](/<(script|style)( [^>]*)*>((?!<\/\1( [^>]*)*>).)*<\/\1>/gi,'');AQ=AQ['replace'](/<(\/)?((?!h[1-6]( [^>]*)*>)(?!img( [^>]*)*>)(?!a( [^>]*)*>)(?!ul( [^>]*)*>)(?!ol( [^>]*)*>)(?!li( [^>]*)*>)(?!p( [^>]*)*>)(?!div( [^>]*)*>)(?!td( [^>]*)*>)(?!br( [^>]*)*>)[^>\/])[^<>]*>/gi,'');AQ=AQ['replace'](/<img([^>]*)>/gi,function(AY,AZ){var B0='';var B1='';var B2=/src="([^"]*)"/i['exec'](AZ);var B3=/alt="([^"]*)"/i['exec'](AZ);if(B2!==null){B0=B2[0x1];}if(B3!==null){B1=B3[0x1];}if(typeof AI==='function'){return AI(B0,B1);}if(B1===''){return'![image]\x20('+B0+')';}return'!['+B1+']\x20('+B0+')';});function AT(){return function(B4,B5,B6,B7){var B8=0x0;if(B6&&/start="([0-9]+)"/i['test'](B6)){B8=/start="([0-9]+)"/i['exec'](B6)[0x1]-0x1;}var B9='<p>'+B7['replace'](/<li[^>]*>(((?!<li[^>]*>)(?!<\/li>).)*)<\/li>/gi,function(Ba,Bb){var Bc=0x0;var Bd=Bb['replace'](/(^|(<br \/>))(?!<p>)/gi,function(){if(B5==='o'&&Bc===0x0){B8+=0x1;Bc+=0x1;return'<br\x20/>'+B8+AG(AN,AM-String(B8)['length']);}return'<br\x20/>'+AP;});return Bd;})+'</p>';return B9;};}if(AK==='linebreak'){AQ=AQ['replace'](/<\/?ul[^>]*>|<\/?ol[^>]*>|<\/?li[^>]*>/gi,'\x0a');}else if(AK==='indention'){while(/<(o|u)l[^>]*>(.*)<\/\1l>/gi['test'](AQ)){AQ=AQ['replace'](/<(o|u)l([^>]*)>(((?!<(o|u)l[^>]*>)(?!<\/(o|u)l>).)*)<\/\1l>/gi,AT());}}if(AJ==='linebreak'){AQ=AQ['replace'](/<h([1-6])[^>]*>([^<]*)<\/h\1>/gi,'\x0a$2\x0a');}else if(AJ==='underline'){AQ=AQ['replace'](/<h1[^>]*>(((?!<\/h1>).)*)<\/h1>/gi,function(Be,Bf){return'\x0a&nbsp;\x0a'+Bf+'\x0a'+AG('=',Bf['length'])+'\x0a&nbsp;\x0a';});AQ=AQ['replace'](/<h2[^>]*>(((?!<\/h2>).)*)<\/h2>/gi,function(Bg,Bh){return'\x0a&nbsp;\x0a'+Bh+'\x0a'+AG('-',Bh['length'])+'\x0a&nbsp;\x0a';});AQ=AQ['replace'](/<h([3-6])[^>]*>(((?!<\/h\1>).)*)<\/h\1>/gi,function(Bi,Bj,Bk){return'\x0a&nbsp;\x0a'+Bk+'\x0a&nbsp;\x0a';});}else if(AJ==='hashify'){AQ=AQ['replace'](/<h([1-6])[^>]*>([^<]*)<\/h\1>/gi,function(Bl,Bm,Bn){return'\x0a&nbsp;\x0a'+AG('#',Bm)+'\x20'+Bn+'\x0a&nbsp;\x0a';});}AQ=AQ['replace'](/<br( [^>]*)*>|<p( [^>]*)*>|<\/p( [^>]*)*>|<div( [^>]*)*>|<\/div( [^>]*)*>|<td( [^>]*)*>|<\/td( [^>]*)*>/gi,'\x0a');AQ=AQ['replace'](/<a[^>]*href="([^"]*)"[^>]*>([^<]+)<\/a[^>]*>/gi,function(Bo,Bp,Bq){if(typeof AH==='function'){return AH(Bp,Bq);}return'\x20['+Bq+']\x20('+Bp+')\x20';});AQ=AQ['replace'](/\n[ \t\f]*/gi,'\x0a');AQ=AQ['replace'](/\n\n+/gi,'\x0a');if(AO){AQ=AQ['replace'](/( |\t)+/gi,'\x20');AQ=AQ['replace'](/&nbsp;/gi,'\x20');}else{AQ=AQ['replace'](/( |&nbsp;|\t)+/gi,'\x20');}AQ=AQ['replace'](/\n +/gi,'\x0a');AQ=AQ['replace'](/^ +/gi,'');while(AQ['indexOf']('\x0a')===0x0){AQ=AQ['substring'](0x1);}if(AQ['length']===0x0||AQ['lastIndexOf']('\x0a')!==AQ['length']-0x1){AQ+='\x0a';}return AQ;};TDV['Tour']['Script']['openEmbeddedPDF']=function(Br,Bs){var Bt=!!window['MSInputMethodContext']&&!!document['documentMode'];if(Bt){this['openLink'](Bs,'_blank');return;}var Bu=Br['get']('class');var Bv=!new RegExp('^(?:[a-z]+:)?//','i')['test'](Bs);if(Bv&&Bu=='WebFrame'){var Bw=location['origin']+location['pathname'];Br['set']('url','lib/pdfjs/web/viewer.html?file='+encodeURIComponent(Bw['substring'](0x0,Bw['lastIndexOf']('/'))+'/'+Bs)+'#0');}else{var Bx=location['origin']==new URL(Bs)['origin'];var By='<iframe\x20\x20id=\x27googleViewer\x27\x20src=\x27https://docs.google.com/viewer?url=[url]&embedded=true\x27\x20width=\x27100%\x27\x20height=\x27100%\x27\x20frameborder=\x270\x27>'+'<p>This\x20browser\x20does\x20not\x20support\x20inline\x20PDFs.\x20Please\x20download\x20the\x20PDF\x20to\x20view\x20it:\x20<a\x20href=\x27[url]\x27>Download\x20PDF</a></p>'+'</iframe>';var Bz=/^((?!chrome|android|crios|ipad|iphone).)*safari/i['test'](navigator['userAgent']);var BA='<div\x20id=\x22content\x22\x20style=\x22width:100%;height:100%;position:absolute;left:0;top:0;\x22></div>'+'<script\x20type=\x22text/javascript\x22>'+'!function(root,factory){\x22function\x22==typeof\x20define&&define.amd?define([],factory):\x22object\x22==typeof\x20module&&module.exports?module.exports=factory():root.PDFObject=factory()}(this,function(){\x22use\x20strict\x22;if(void\x200===window||void\x200===window.navigator||void\x200===window.navigator.userAgent||void\x200===window.navigator.mimeTypes)return!1;let\x20nav=window.navigator,ua=window.navigator.userAgent,isIE=\x22ActiveXObject\x22in\x20window,isModernBrowser=void\x200!==window.Promise,supportsPdfMimeType=void\x200!==nav.mimeTypes[\x22application/pdf\x22],isMobileDevice=void\x200!==nav.platform&&\x22MacIntel\x22===nav.platform&&void\x200!==nav.maxTouchPoints&&nav.maxTouchPoints>1||/Mobi|Tablet|Android|iPad|iPhone/.test(ua),isSafariDesktop=!isMobileDevice&&void\x200!==nav.vendor&&/Apple/.test(nav.vendor)&&/Safari/.test(ua),isFirefoxWithPDFJS=!(isMobileDevice||!/irefox/.test(ua))&&parseInt(ua.split(\x22rv:\x22)[1].split(\x22.\x22)[0],10)>18,createAXO=function(type){var\x20ax;try{ax=new\x20ActiveXObject(type)}catch(e){ax=null}return\x20ax},supportsPDFs=!isMobileDevice&&(isFirefoxWithPDFJS||supportsPdfMimeType||isIE&&!(!createAXO(\x22AcroPDF.PDF\x22)&&!createAXO(\x22PDF.PdfCtrl\x22))),embedError=function(msg,suppressConsole){return\x20suppressConsole||console.log(\x22[PDFObject]\x20\x22+msg),!1},emptyNodeContents=function(node){for(;node.firstChild;)node.removeChild(node.firstChild)},generatePDFJSMarkup=function(targetNode,url,pdfOpenFragment,PDFJS_URL,id,omitInlineStyles){emptyNodeContents(targetNode);let\x20fullURL=PDFJS_URL+\x22?file=\x22+encodeURIComponent(url)+pdfOpenFragment,div=document.createElement(\x22div\x22),iframe=document.createElement(\x22iframe\x22);return\x20iframe.src=fullURL,iframe.className=\x22pdfobject\x22,iframe.type=\x22application/pdf\x22,iframe.frameborder=\x220\x22,id&&(iframe.id=id),omitInlineStyles||(div.style.cssText=\x22position:\x20absolute;\x20top:\x200;\x20right:\x200;\x20bottom:\x200;\x20left:\x200;\x22,iframe.style.cssText=\x22border:\x20none;\x20width:\x20100%;\x20height:\x20100%;\x22,/*targetNode.style.position=\x22relative\x22,*/targetNode.style.overflow=\x22auto\x22),div.appendChild(iframe),targetNode.appendChild(div),targetNode.classList.add(\x22pdfobject-container\x22),targetNode.getElementsByTagName(\x22iframe\x22)[0]},embed=function(url,targetSelector,options){let\x20selector=targetSelector||!1,opt=options||{},id=\x22string\x22==typeof\x20opt.id?opt.id:\x22\x22,page=opt.page||!1,pdfOpenParams=opt.pdfOpenParams||{},fallbackLink=opt.fallbackLink||!0,width=opt.width||\x22100%\x22,height=opt.height||\x22100%\x22,assumptionMode=\x22boolean\x22!=typeof\x20opt.assumptionMode||opt.assumptionMode,forcePDFJS=\x22boolean\x22==typeof\x20opt.forcePDFJS&&opt.forcePDFJS,supportRedirect=\x22boolean\x22==typeof\x20opt.supportRedirect&&opt.supportRedirect,omitInlineStyles=\x22boolean\x22==typeof\x20opt.omitInlineStyles&&opt.omitInlineStyles,suppressConsole=\x22boolean\x22==typeof\x20opt.suppressConsole&&opt.suppressConsole,forceIframe=\x22boolean\x22==typeof\x20opt.forceIframe&&opt.forceIframe,PDFJS_URL=opt.PDFJS_URL||!1,targetNode=function(targetSelector){let\x20targetNode=document.body;return\x22string\x22==typeof\x20targetSelector?targetNode=document.querySelector(targetSelector):void\x200!==window.jQuery&&targetSelector\x20instanceof\x20jQuery&&targetSelector.length?targetNode=targetSelector.get(0):void\x200!==targetSelector.nodeType&&1===targetSelector.nodeType&&(targetNode=targetSelector),targetNode}(selector),fallbackHTML=\x22\x22,pdfOpenFragment=\x22\x22;if(\x22string\x22!=typeof\x20url)return\x20embedError(\x22URL\x20is\x20not\x20valid\x22,suppressConsole);if(!targetNode)return\x20embedError(\x22Target\x20element\x20cannot\x20be\x20determined\x22,suppressConsole);if(page&&(pdfOpenParams.page=page),pdfOpenFragment=function(pdfParams){let\x20prop,string=\x22\x22;if(pdfParams){for(prop\x20in\x20pdfParams)pdfParams.hasOwnProperty(prop)&&(string+=encodeURIComponent(prop)+\x22=\x22+encodeURIComponent(pdfParams[prop])+\x22&\x22);string&&(string=(string=\x22#\x22+string).slice(0,string.length-1))}return\x20string}(pdfOpenParams),forcePDFJS&&PDFJS_URL)return\x20generatePDFJSMarkup(targetNode,url,pdfOpenFragment,PDFJS_URL,id,omitInlineStyles);if(supportsPDFs||assumptionMode&&isModernBrowser&&!isMobileDevice){return\x20function(embedType,targetNode,targetSelector,url,pdfOpenFragment,width,height,id,omitInlineStyles){emptyNodeContents(targetNode);let\x20embed=document.createElement(embedType);if(embed.src=url+pdfOpenFragment,embed.className=\x22pdfobject\x22,embed.type=\x22application/pdf\x22,id&&(embed.id=id),!omitInlineStyles){let\x20style=\x22embed\x22===embedType?\x22overflow:\x20auto;\x22:\x22border:\x20none;\x22;targetSelector&&targetSelector!==document.body?style+=\x22width:\x20\x22+width+\x22;\x20height:\x20\x22+height+\x22;\x22:style+=\x22position:\x20absolute;\x20top:\x200;\x20right:\x200;\x20bottom:\x200;\x20left:\x200;\x20width:\x20100%;\x20height:\x20100%;\x22,embed.style.cssText=style}return\x20targetNode.classList.add(\x22pdfobject-container\x22),targetNode.appendChild(embed),targetNode.getElementsByTagName(embedType)[0]}(forceIframe||supportRedirect&&isSafariDesktop?\x22iframe\x22:\x22embed\x22,targetNode,targetSelector,url,pdfOpenFragment,width,height,id,omitInlineStyles)}return\x20PDFJS_URL?generatePDFJSMarkup(targetNode,url,pdfOpenFragment,PDFJS_URL,id,omitInlineStyles):(fallbackLink&&(fallbackHTML=\x22string\x22==typeof\x20fallbackLink?fallbackLink:\x22<p>This\x20browser\x20does\x20not\x20support\x20inline\x20PDFs.\x20Please\x20download\x20the\x20PDF\x20to\x20view\x20it:\x20<a\x20href=\x27[url]\x27>Download\x20PDF</a></p>\x22,targetNode.innerHTML=fallbackHTML.replace(/\x5c[url\x5c]/g,url)),embedError(\x22This\x20browser\x20does\x20not\x20support\x20embedded\x20PDFs\x22,suppressConsole))};return{embed:function(a,b,c){return\x20embed(a,b,c)},pdfobjectversion:\x222.2.3\x22,supportsPDFs:supportsPDFs}});'+'if\x20(typeof\x20module\x20===\x20\x22object\x22\x20&&\x20module.exports)\x20{'+'this.PDFObject\x20=\x20module.exports;'+'}'+'PDFObject.embed(\x22'+Bs+'\x22,\x20\x22#content\x22,\x20{'+(Bx?'\x22PDFJS_URL\x22:\x20\x22'+new URL('lib/pdfjs/web/viewer.html',document['baseURI'])['href']+'\x22,\x20':'')+'\x22fallbackLink\x22:\x20\x22'+By+'\x22,'+'\x22forcePDFJS\x22:\x20'+Bz+'});'+'if(!PDFObject.supportsPDFs\x20&&\x20!'+Bx+'){'+'\x20var\x20iframeTimerId;'+'\x20function\x20startTimer(){'+'\x20\x20\x20\x20iframeTimerId\x20=\x20window.setTimeout(checkIframeLoaded,\x202000);'+'\x20}'+'\x20function\x20checkIframeLoaded(){\x20\x20'+'\x20\x20\x20\x20var\x20iframe\x20=\x20document.getElementById(\x22googleViewer\x22);'+'\x20\x20\x20\x20iframe.src\x20=\x20iframe.src;'+'\x20\x20\x20\x20iframeTimerId\x20=\x20window.setTimeout(checkIframeLoaded,\x202000);'+'\x20}'+'\x20document.getElementById(\x22googleViewer\x22).addEventListener(\x22load\x22,\x20function(){'+'\x20\x20\x20clearInterval(iframeTimerId);\x20'+'\x20});'+'\x20startTimer();'+'}'+'</script>';if(Bu=='WebFrame'){Br['set']('url','data:text/html;charset=utf-8,'+encodeURIComponent('<!DOCTYPE\x20html>'+'<html>'+'<head></head>'+'<body\x20style=\x22height:100%;width:100%;overflow:hidden;margin:0px;background-color:rgb(82,\x2086,\x2089);\x22>'+BA+'</body>'+'</html>'));}else if(Bu=='HTML'){Br['set']('content','data:text/html;charset=utf-8,'+encodeURIComponent(BA));}}};TDV['Tour']['Script']['getKey']=function(BB){return window[BB];};TDV['Tour']['Script']['registerKey']=function(BC,BD){window[BC]=BD;};TDV['Tour']['Script']['unregisterKey']=function(BE){delete window[BE];};TDV['Tour']['Script']['existsKey']=function(BF){return BF in window;};function _getCurrentActiveModels(){var BG=this['getByClassName']('Model3DPlayer');var BH=[];for(var BI of BG){var BJ=BI['get']('model');var BK=BI['get']('viewerArea');if(BJ&&BJ['get']('isLoaded')&&BK&&BK['get']('visible'))BH['push'](BJ);}return BH;}function _onMeasureClick(BL){var BM=BL['source'];var BN=BM['get']('mode');if(BN!='create'){BM['set']('mode',BN=='view'?'edit':'view');console['log'](BM['get']('mode'));}}function _forEachMeasureModel3DObject(BO,BP){if(!BO)BO=_getCurrentActiveModels['call'](this);BO['forEach'](function(BQ){BQ['get']('objects')['forEach'](function(BR){if(BR['get']('class')=='MeasureModel3DObject')BP(BQ,BR);}['bind'](this));}['bind'](this));}function _deleteModel3DObjects(BS,BT){if(!BS)BS=_getCurrentActiveModels['call'](this);BS['forEach'](function(BU){var BV=BU['get']('objects');var BW=BV['filter'](function(BX){return!BT['call'](this,BX);});if(BW['length']!=BV['length']){BU['set']('objects',BW);BV['forEach'](function(BY){if(BT['call'](this,BY))this['disposeInstance'](BY);}['bind'](this));}}['bind'](this));}function _cloneMeasureModel3DObject(BZ){var C0=this['clone'](BZ,BZ['getAttributeNames']()['filter'](function(C1){return C1!='id';}));C0['set']('data',{'id':BZ['get']('id')});return C0;}TDV['Tour']['Script']['startMeasurement']=function(C2,C3){if(!C2)C2=_getCurrentActiveModels['call'](this);var C4={},C5={},C6={};C2['forEach'](function(C8){var C9=C8['get']('objects');var Ca=C9['findIndex'](function(Cf){return Cf['get']('class')=='MeasureModel3DObject'&&Cf['get']('mode')=='create';});var Cb=Ca!=-0x1;if(Cb){var Cc=C9[Ca];if(Cc['get']('points')['length']==0x0){C9['splice'](Ca,0x1);this['disposeInstance'](Cc);}else Cc['set']('mode','view');}var Cd=_cloneMeasureModel3DObject['call'](this,C3);this['cloneBindings'](C3,Cd,'modeChange');Cd['set']('mode','create');Cd['bind']('click',_onMeasureClick,this);var Ce=C8['get']('camera');Cd['bind']('modeChange',function Cg(){if(Cd['get']('mode')=='create'){C4[C8['get']('id')]=C8['get']('surfaceSelectionEnabled');C8['set']('surfaceSelectionEnabled',!![]);if(Ce['get']('class')=='FlyOverModel3DCamera'){C5[C8['get']('id')]=Ce['get']('doubleClickAction');Ce['set']('doubleClickAction','none');}}else{Cd['unbind']('modeChange',Cg,this);C8['set']('surfaceSelectionEnabled',C4[C8['get']('id')]);if(Ce['get']('class')=='FlyOverModel3DCamera'){Ce['set']('doubleClickAction',C5[C8['get']('id')]);}C9['forEach'](function(Ch){var Ci=C6[Ch['get']('id')];if(Ci){Ch['set']('rollOverEnabled',Ci['rollOverEnabled']);}});}},this);if(C2['length']>0x0){Cd['bind']('distanceChange',function Cj(){Cd['unbind']('distanceChange',Cj,this);C7['call'](this,C2['filter'](Ck=>Ck!=C8));},this);}C9['forEach'](function(Cl){var Cm=Cl['get']('id');if(Cm){C6[Cm]={'rollOverEnabled':Cl['get']('rollOverEnabled')};Cl['set']('rollOverEnabled',!![]);}});C9=C9['concat']();C9['push'](Cd);C8['set']('objects',C9);}['bind'](this));function C7(Cn){this['stopMeasurement'](Cn);for(var Co of Cn){var Cp=Co['get']('id');Co['set']('surfaceSelectionEnabled',C4[Cp]);if(Cp in C5)Co['get']('camera')['set']('doubleClickAction',C5[Cp]);}}};TDV['Tour']['Script']['stopMeasurement']=function(Cq){_deleteModel3DObjects['call'](this,Cq,function(Cr){return Cr['get']('class')=='MeasureModel3DObject'&&Cr['get']('mode')=='create'&&Cr['get']('points')['length']==0x0;});_forEachMeasureModel3DObject['call'](this,Cq,function(Cs,Ct){if(Ct['get']('mode')=='create'){Ct['set']('mode','edit');}});};TDV['Tour']['Script']['toggleMeasurement']=function(Cu,Cv){if(!Cu)Cu=_getCurrentActiveModels['call'](this);var Cw=Cu['some'](function(Cx){var Cy=Cx['get']('objects');var Cz=Cy['find'](function(CA){return CA['get']('class')=='MeasureModel3DObject'&&CA['get']('mode')=='create';});return Cz!=null;});if(!Cw)this['startMeasurement'](Cu,Cv);else this['stopMeasurement'](Cu);};TDV['Tour']['Script']['cleanAllMeasurements']=function(CB){_deleteModel3DObjects['call'](this,CB,function(CC){return CC['get']('class')=='MeasureModel3DObject';});};TDV['Tour']['Script']['cleanSelectedMeasurements']=function(CD){_deleteModel3DObjects['call'](this,CD,function(CE){return CE['get']('class')=='MeasureModel3DObject'&&CE['get']('mode')=='edit';});};TDV['Tour']['Script']['setMeasurementsVisibility']=function(CF,CG){_forEachMeasureModel3DObject['call'](this,CF,function(CH,CI){CI['set']('enabled',CG);});};TDV['Tour']['Script']['toggleMeasurementsVisibility']=function(CJ){_forEachMeasureModel3DObject['call'](this,CJ,function(CK,CL){CL['set']('enabled',!CL['get']('enabled'));});};TDV['Tour']['Script']['setMeasurementUnits']=function(CM){_forEachMeasureModel3DObject['call'](this,null,function(CN,CO){CO['set']('units',CM);});};
//# sourceMappingURL=script_v2023.1.17.js.map
//Generated with v2023.1.17, Sat Dec 2 2023